(()=>{"use strict";var e,t,i,s={34626:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(8081),n=i.n(s),o=i(23645),a=i.n(o)()(n());a.push([e.id,'*{box-sizing:border-box}html{overflow-x:hidden;font-family:"Roboto";font-size:16px}body{position:relative;padding:0;margin:0;background:#111013;color:#f2f1f3}h1,h2,h3,h4,h5,h6{font-weight:normal}.mw-hr{height:1px;background:#545260;margin:20px 0}img{max-width:100%}textarea,pre{font-family:"Roboto";font-size:16px}a{cursor:pointer;color:#aeacb9;transition:color .1s;text-decoration:none;position:relative}a:hover{color:#f2f1f3;text-decoration:underline;text-decoration-color:#b45f88;text-decoration-thickness:2px;text-underline-offset:6px}.mwm-unselectable{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.has-tooltip{cursor:help}.gu-mirror{pointer-events:none}button{border-radius:8px;border:none;background:none;font-family:"Roboto";font-size:16px;padding:8px 24px;cursor:pointer;transition:background-color .2s,background-position .2s,border-color .2s,color .2s}button:disabled{cursor:not-allowed;opacity:.5}button:active:not(:disabled){opacity:.75;transform:scale(0.97)}button.primary.gray{color:#111013;background:linear-gradient(to top, hsl(248deg, 8%, 95%) 50%, hsl(248deg, 8%, 70%) 50%) top;background-size:100% 200%;padding-top:10px;border-bottom:2px solid #f2f1f3}button.primary.gray:hover:not(:disabled){color:#111013;background-position:bottom}button.primary.red{color:#f6d5d5;background:linear-gradient(to top, hsl(0deg, 66%, 52%) 50%, hsl(0deg, 66%, 27%) 50%) top;background-size:100% 200%;padding-top:10px;border-bottom:2px solid #d53434}button.primary.red:hover:not(:disabled){color:#511;background-position:bottom}button.primary.pink{color:#efdce5;background:linear-gradient(to top, hsl(331deg, 36%, 54%) 50%, hsl(331deg, 36%, 33%) 50%) top;background-size:100% 200%;padding-top:10px;border-bottom:2px solid #b45f88}button.primary.pink:hover:not(:disabled){color:#57293f;background-position:bottom}button.primary.yellow{color:#fdface;background:linear-gradient(to top, hsl(56deg, 92%, 60%) 50%, hsl(56deg, 92%, 30%) 50%) top;background-size:100% 200%;padding-top:10px;border-bottom:2px solid #f7ea3b}button.primary.yellow:hover:not(:disabled){color:#625c04;background-position:bottom}button.primary.green{color:#d5f6d5;background:linear-gradient(to top, hsl(120deg, 66%, 52%) 50%, hsl(120deg, 66%, 24%) 50%) top;background-size:100% 200%;padding-top:10px;border-bottom:2px solid #34d534}button.primary.green:hover:not(:disabled){color:#151;background-position:bottom}button.secondary.gray{color:#f2f1f3;background:#545260}button.secondary.gray:hover:not(:disabled){color:#111013;background:#f2f1f3}button.secondary.red{color:#511;background:#e47c7c}button.secondary.red:hover:not(:disabled){color:#511;background:#d53434}button.secondary.pink{color:#57293f;background:#ce97b2}button.secondary.pink:hover:not(:disabled){color:#57293f;background:#b45f88}button.secondary.yellow{color:#625c04;background:#fbf493}button.secondary.yellow:hover:not(:disabled){color:#625c04;background:#f7ea3b}button.secondary.green{color:#151;background:#91e891}button.secondary.green:hover:not(:disabled){color:#151;background:#34d534}button.tertiary.gray{font-weight:bold;color:#f2f1f3;border-top:1px solid rgba(0,0,0,0);border-bottom:1px solid rgba(0,0,0,0)}button.tertiary.gray:hover:not(:disabled){border-top:1px solid #f2f1f3;border-bottom:1px solid #f2f1f3}button.tertiary.red{font-weight:bold;color:#d53434;border-top:1px solid rgba(0,0,0,0);border-bottom:1px solid rgba(0,0,0,0)}button.tertiary.red:hover:not(:disabled){border-top:1px solid #d53434;border-bottom:1px solid #d53434}button.tertiary.pink{font-weight:bold;color:#b45f88;border-top:1px solid rgba(0,0,0,0);border-bottom:1px solid rgba(0,0,0,0)}button.tertiary.pink:hover:not(:disabled){border-top:1px solid #b45f88;border-bottom:1px solid #b45f88}button.tertiary.yellow{font-weight:bold;color:#f7ea3b;border-top:1px solid rgba(0,0,0,0);border-bottom:1px solid rgba(0,0,0,0)}button.tertiary.yellow:hover:not(:disabled){border-top:1px solid #f7ea3b;border-bottom:1px solid #f7ea3b}button.tertiary.green{font-weight:bold;color:#34d534;border-top:1px solid rgba(0,0,0,0);border-bottom:1px solid rgba(0,0,0,0)}button.tertiary.green:hover:not(:disabled){border-top:1px solid #34d534;border-bottom:1px solid #34d534}input[type=color]{border:0;padding:0}.mw-notification-success{border-radius:8px !important;color:#d5f6d5 !important;border-color:#151 !important;background:#151 !important;box-shadow:4px 6px 4px rgba(0,0,0,.25);line-height:24px}.mw-notification-warning{border-radius:8px !important;color:#f2f1f3 !important;border-color:#625c04 !important;background:#625c04 !important;box-shadow:4px 6px 4px rgba(0,0,0,.25);line-height:24px}.mw-notification-failure{border-radius:8px !important;color:#f6d5d5 !important;border-color:#511 !important;background:#511 !important;box-shadow:4px 6px 4px rgba(0,0,0,.25);line-height:24px}.mw-notification-info{border-radius:8px !important;color:#d7d6dc !important;border-color:#111013 !important;background:#242329 !important;box-shadow:4px 6px 4px rgba(0,0,0,.25);line-height:24px}.mw-notification-notice{border-radius:8px !important;color:#d7d6dc !important;border-color:#f7ea3b !important;background:#242329 !important;box-shadow:4px 6px 4px rgba(0,0,0,.25);line-height:24px}.mw-notification-error{border-radius:8px !important;color:#d7d6dc !important;border-color:#d53434 !important;background:#242329 !important;box-shadow:4px 6px 4px rgba(0,0,0,.25);line-height:24px}',""]);const r=a},3484:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(8081),n=i.n(s),o=i(23645),a=i.n(o)()(n());a.push([e.id,".mw-app{display:flex;flex-direction:column;min-height:100vh}.mw-app .mw-vm-modal-group.disable-pointer-events .mw-vm-modal{pointer-events:none}.mw-app .mw-vm-modal-group .mw-vm-main{scrollbar-color:#545260 rgba(0,0,0,.2)}.mw-app .mw-vm-modal-group .mw-vm-main::-webkit-scrollbar{width:10px;height:10px}.mw-app .mw-vm-modal-group .mw-vm-main::-webkit-scrollbar-thumb{background:#545260;border-radius:6px;border:1px solid #3b3943;transition:.4s}.mw-app .mw-vm-modal-group .mw-vm-main::-webkit-scrollbar-thumb:hover{background-color:#848294}.mw-app .mw-vm-modal-group .mw-vm-main::-webkit-scrollbar-track{background:rgba(0,0,0,.2);border-radius:6px}.mw-app main{flex-grow:1;background:#302f37;z-index:0;border-radius:32px;display:flex;align-items:stretch;justify-content:center}",""]);const r=a},79168:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(8081),n=i.n(s),o=i(23645),a=i.n(o)()(n());a.push([e.id,"#mw-app{background:#111013;display:flex;flex-direction:column;height:100vh;overflow:hidden;width:100%}#mw-app .eic-app-content{border-radius:32px 32px 0 0;overflow:hidden;background:#302f37;position:relative;flex-grow:1}",""]);const r=a},50820:(e,t,i)=>{i.d(t,{a:()=>s});class s{}},13821:(e,t,i)=>{i.d(t,{R3:()=>l,kU:()=>c,qL:()=>u,qg:()=>d});var s=i(9669),n=i.n(s),o=i(50820),a=i(2465),r=i(17943);const l="get",d="post",c="delete";class u extends o.a{constructor(e,t){super(),this.httpMethod=e,this.endpoint=t}send(e,t=!1){if(!t&&(0,r.o)().getters.inDemoMode)this.processLocally(e);else{let t={method:this.httpMethod,url:this.endpoint};this.httpMethod===d&&(t.data=this.getRequestData()),n()(t).then((t=>{e(t)})).catch((e=>{a.x("4.2.1",[e])}))}}processLocally(e){console.error("processLocally for a REST action was not yet implemented.")}}},94254:(e,t,i)=>{i.d(t,{L:()=>n});var s=i(13821);class n extends s.qL{constructor(e){super(s.R3,`/user/${e}/projects`)}getRequestData(){}processLocally(e){}static parseResponse(e){var t,i;let s=[];for(let n of e.projects){let o={projectId:n.id,projectName:n.name,owners:n.owners,boards:{},isMember:null===(t=e.memberships.find((e=>e.targetId===n.id)))||void 0===t?void 0:t.isMember,permissions:e.permissions[n.id]};for(let t of Object.values(n.boards)){let s={boardId:t.id,boardName:t.name,owners:t.owners,color:t.color,isMember:null===(i=e.memberships.find((e=>e.targetId===t.id)))||void 0===i?void 0:i.isMember,permissions:e.permissions[t.id]};o.boards[s.boardId]=s}s.push(o)}return s}}},62304:(e,t,i)=>{i.d(t,{R:()=>r});var s=i(50820),n=i(12017),o=i(68952),a=i(2465);class r extends s.a{constructor(e){super(),this.type=e,this.authToken=(0,o.F)().authToken().value}send(){(0,o.F)().inDemoMode().value?this.processLocally():n.ws.isConnected()?n.ws.emit(this.type,JSON.stringify(Object.assign(Object.assign({},this.getRequestData()),{authToken:this.authToken}))):a.x("4.1.1")}processLocally(){a.x("4.1.2")}static processResponse(e){console.log("processResponse not implemented.")}}},11863:(e,t,i)=>{i.d(t,{w:()=>d});var s=i(44586),n=i(17943),o=i(74169),a=i(2465),r=i(95610),l=i(62304);class d extends l.R{constructor(e,t,i){super("createNewEntity"),this.boardId=e,this.location=t,this.parentEntityId=i}getRequestData(){return{boardId:this.boardId,location:this.location,parentEntityId:this.parentEntityId}}processLocally(){d.processResponse({statusCode:0,requestorUserId:(0,n.o)().state.generalData.userData.userId,newEntityId:(0,s.Z)(),parentEntityId:this.parentEntityId,location:JSON.parse(JSON.stringify(this.location)),content:{type:"text",data:{text:""}}})}static processResponse(e){if(0==e.statusCode){let t=(0,n.o)(),i=(0,o.q)();t.dispatch("addEntities",[new r.JH(e.newEntityId,e.location,e.content)]),t.dispatch("createNode",{entityId:e.newEntityId,parentId:e.parentEntityId}),e.requestorUserId===t.state.generalData.userData.userId&&(t.dispatch("selectEntity",{entityId:e.newEntityId,clearCurrentSelection:!0}),t.dispatch("startEditingEntity",e.newEntityId),i.emit("blockCreated",e.newEntityId))}else a.x("4.1.12",[e.errorMessage])}}},85274:(e,t,i)=>{i.d(t,{D:()=>a});var s=i(17943),n=i(2465),o=i(62304);class a extends o.R{constructor(e,t=[]){super("deleteEntities"),this.boardId=e,this.entityIds=t}getRequestData(){return{boardId:this.boardId,entityIds:this.entityIds}}processLocally(){}static processResponse(e){0==e.statusCode?(0,s.o)().dispatch("deleteEntities",e.deletedEntityIds):n.x("4.1.3",[e.errorMessage])}}},89809:(e,t,i)=>{i.d(t,{h:()=>l});var s=i(70082),n=i(17943),o=i(2465),a=i(62304),r=i(60511);class l extends a.R{constructor(e,t){super("deleteView"),this.boardId=e,this.viewId=t}getRequestData(){return{boardId:this.boardId,viewId:this.viewId}}processLocally(){(0,r.BG)(this.viewId),l.processResponse({statusCode:0,viewId:this.viewId})}static processResponse(e){var t;if(0==e.statusCode){let i=(0,n.o)();(null===(t=i.state.viewData.activeViewConfig)||void 0===t?void 0:t.id)===e.viewId&&(0,s.useVueNotify)().showNotification({cssClasses:["mw-notification-success"],dismissAfterMillis:2500,data:{message:"View deleted successfully!"},position:"top-center"}),i.dispatch("deleteView",e.viewId)}else o.x("4.1.16",[e.errorMessage])}}},33414:(e,t,i)=>{i.d(t,{A:()=>m});var s=i(9669),n=i.n(s),o=i(95610),a=i(62304),r=i(2465),l=i(85212),d=i(17943),c=i(37387),u=i(74465),p=i(60511),f=i(75930);class m extends a.R{constructor(e){super("getBoardData"),this.boardId=e}getRequestData(){return{boardId:this.boardId}}processLocally(){n()({method:"GET",url:`/board/${c.CR.id}/${this.boardId}`}).then((({data:e})=>{(0,p.Ko)(e.board.views);const t=Object.values(e.board.fields).filter((e=>(0,f.lc)(e.type)===f.g.TEMPORAL)),i=Date.now();Object.values(e.board.entities).forEach((e=>{for(let s of t)e.fields&&e.fields[s.id]&&(e.fields[s.id]=l.ju(new Date(l.es(e.fields[s.id])+i)))})),m.processResponse({statusCode:e.statusCode,entities:Object.values(e.board.entities),classificationsWithOrdering:{classificationDefinitions:e.board.classifications,classificationIds:e.board.classificationIds},fieldDefinitions:e.board.fields,possibleValueDefinitions:e.board.possibleValues,blockPriorities:e.board.blockPriorities,availableViews:Object.values(e.board.views).map((e=>({id:e.id,name:e.name,type:e.type,filter:e.filter})))})})).catch((e=>{r.x("4.1.13",[e])}))}static parseEntities(e){return e.entities.map((e=>({entity:new o.JH(e.id,e.location,e.content,e.fieldIds,e.fields,e.classificationIds),parentEntityId:e.parentEntityId})))}static processResponse(e){if(0==e.statusCode){let t=(0,d.o)();t.dispatch("setPossibleValueDefinitions",e.possibleValueDefinitions),t.dispatch("setFieldDefinitions",e.fieldDefinitions),t.dispatch("setClassificationDefinitions",e.classificationsWithOrdering);let i=m.parseEntities(e);t.dispatch("setEntities",i.map((e=>e.entity))),t.dispatch("setBlockPriorities",e.blockPriorities),t.dispatch("clearHierarchy");for(let e of i)t.dispatch("createNode",{entityId:e.entity.id,parentId:e.parentEntityId});t.dispatch("setAvailableViews",(0,u.J3)(e.availableViews,"id"))}else r.x("4.1.9",[e.errorMessage])}}},60511:(e,t,i)=>{i.d(t,{BG:()=>d,Dd:()=>c,Ko:()=>r,fN:()=>l});var s=i(62304),n=i(2465),o=i(17943);let a={};function r(e){a=e}function l(e){a[e.id]=e}function d(e){delete a[e]}class c extends s.R{constructor(e,t){super("loadViewData"),this.boardId=e,this.viewId=t}getRequestData(){return{boardId:this.boardId,viewId:this.viewId}}processLocally(){let e=JSON.parse(JSON.stringify(a[this.viewId]));e?c.processResponse({statusCode:0,viewData:e}):c.processResponse({statusCode:1,errorMessage:"Requested view was not found."})}static parseView(e){return e.viewData}static processResponse(e){0==e.statusCode?(0,o.o)().dispatch("openView",c.parseView(e)):n.x("4.1.15",[e.errorMessage])}}},65108:(e,t,i)=>{i.d(t,{w:()=>l});var s=i(70082),n=i(17943),o=i(2465),a=i(62304),r=i(60511);class l extends a.R{constructor(e,t){super("saveView"),this.boardId=e,this.viewConfig=t}getRequestData(){return{boardId:this.boardId,viewConfig:this.viewConfig}}processLocally(){(0,r.fN)(this.viewConfig);let e={id:this.viewConfig.id,name:this.viewConfig.name,type:this.viewConfig.type,filter:this.viewConfig.filter};l.processResponse({statusCode:0,baseViewConfig:e})}static processResponse(e){var t;if(0==e.statusCode){let i=(0,n.o)();i.dispatch("addView",e.baseViewConfig),(null===(t=i.state.viewData.activeViewConfig)||void 0===t?void 0:t.id)===e.baseViewConfig.id&&(new r.Dd(i.state.generalData.currentViewData.boardId,e.baseViewConfig.id).send(),(0,s.useVueNotify)().showNotification({cssClasses:["mw-notification-success"],dismissAfterMillis:2500,data:{message:"View saved successfully!"},position:"top-center"}))}else o.x("4.1.14",[e.errorMessage])}}},54291:(e,t,i)=>{i.d(t,{k:()=>a});var s=i(17943),n=i(2465),o=i(62304);class a extends o.R{constructor(e,t,i){super("setBlockPriority"),this.boardId=e,this.blockId=t,this.beforeId=i}getRequestData(){return{boardId:this.boardId,blockId:this.blockId,beforeId:this.beforeId}}processLocally(){a.processResponse({statusCode:0,blockId:this.blockId,beforeId:this.beforeId})}static processResponse(e){0==e.statusCode?(0,s.o)().dispatch("setBlockPriority",{blockId:e.blockId,higherThan:e.beforeId}):n.x("4.1.17",[e.errorMessage])}}},1031:(e,t,i)=>{i.d(t,{e:()=>a});var s=i(17943),n=i(2465),o=i(62304);class a extends o.R{constructor(e,t,i){super("setEntityParent"),this.boardId=e,this.entityId=t,this.parentEntityId=i}getRequestData(){return{boardId:this.boardId,entityId:this.entityId,parentEntityId:this.parentEntityId}}processLocally(){}static processResponse(e){0==e.statusCode?(0,s.o)().dispatch("setParent",{entityId:e.entityId,newParent:e.parentEntityId}):n.x("4.1.4",[e.errorMessage])}}},81375:(e,t,i)=>{i.d(t,{O:()=>a});var s=i(17943),n=i(2465),o=i(62304);class a extends o.R{constructor(e,t,i,s,n){super("updateClassificationDefinitions"),this.boardId=e,this.classificationIds=t,this.classifications=i,this.fields=s,this.possibleValues=n}getRequestData(){return{boardId:this.boardId,classificationIds:this.classificationIds,classifications:this.classifications,fields:this.fields,possibleValues:this.possibleValues}}processLocally(){a.processResponse({statusCode:0,boardId:this.boardId,classificationIds:this.classificationIds,classifications:this.classifications,fields:this.fields,possibleValues:this.possibleValues,changedFieldValues:(0,s.o)().getters.getChangedFieldValues(this.possibleValues)})}static processResponse(e){if(0==e.statusCode){let t=(0,s.o)();t.dispatch("setPossibleValueDefinitions",e.possibleValues),t.dispatch("setFieldDefinitions",e.fields),t.dispatch("setClassificationDefinitions",{classificationDefinitions:e.classifications,classificationIds:e.classificationIds});for(let i of e.changedFieldValues)t.dispatch("setEntityFieldValue",{entityId:i.entityId,fieldId:i.fieldId,value:i.newValue})}else n.x("4.1.6",[e.errorMessage])}}},34151:(e,t,i)=>{i.d(t,{u:()=>a});var s=i(17943),n=i(2465),o=i(62304);class a extends o.R{constructor(e,t,i,s){super("updateClassificationOnEntities"),this.boardId=e,this.entityIds=t,this.classificationId=i,this.isActive=s}getRequestData(){return{boardId:this.boardId,entityIds:this.entityIds,classificationId:this.classificationId,isActive:this.isActive}}processLocally(){setTimeout((()=>{a.processResponse({statusCode:0,boardId:this.boardId,entityIds:this.entityIds,classificationId:this.classificationId,isActive:this.isActive})}),0)}static processResponse(e){if(0==e.statusCode)for(let t of e.entityIds)(0,s.o)().dispatch("setEntityClassificationId",{entityId:t,classificationId:e.classificationId,isActive:e.isActive});else n.x("4.1.8",[e.errorMessage])}}},97242:(e,t,i)=>{i.d(t,{I:()=>a});var s=i(17943),n=i(2465),o=i(62304);class a extends o.R{constructor(e,t,i){super("updateEntityContent"),this.boardId=e,this.entityId=t,this.content=i}getRequestData(){return{boardId:this.boardId,entityId:this.entityId,content:this.content}}processLocally(){}static processResponse(e){0==e.statusCode?(0,s.o)().dispatch("setEntityContent",{entityId:e.entityId,newContent:e.content}):n.x("4.1.11",[e.errorMessage])}}},57664:(e,t,i)=>{i.d(t,{E:()=>a});var s=i(17943),n=i(2465),o=i(62304);class a extends o.R{constructor(e,t=[]){super("updateEntityPositions"),this.boardId=e,this.entitiesAndPositions=t}addEntityAndPosition(e,t,i,s,n){this.entitiesAndPositions.push({entityId:e,location:{x:t,y:i,width:s,height:n}})}getRequestData(){return{boardId:this.boardId,entitiesAndPositions:this.entitiesAndPositions}}processLocally(){}static processResponse(e){0==e.statusCode?(0,s.o)().dispatch("setEntityPositions",e.idsAndPositions):n.x("4.1.10",[e.errorMessage])}}},93828:(e,t,i)=>{i.d(t,{H:()=>a});var s=i(17943),n=i(2465),o=i(62304);class a extends o.R{constructor(e,t,i,s,n,o){super("updateFieldDefinitions"),this.boardId=e,this.entityIds=t,this.fieldDefinitions=i,this.fieldIds=s,this.possibleValueDefinitions=n,this.deletedFieldIds=o}getRequestData(){return{boardId:this.boardId,entityIds:this.entityIds,fieldDefinitions:this.fieldDefinitions,fieldIds:this.fieldIds,possibleValueDefinitions:this.possibleValueDefinitions,deletedFieldIds:this.deletedFieldIds}}processLocally(){let e=Object.keys(this.fieldDefinitions),t={};for(let i of this.entityIds){let n=(0,s.o)().state.entityData.entities[i].fieldIds.filter((t=>!e.includes(t))).filter((e=>!this.deletedFieldIds.includes(e)));t[i]=[...n,...e]}a.processResponse({statusCode:0,boardId:this.boardId,entityFieldDefinitions:{fieldDefinitions:this.fieldDefinitions,possibleValueDefinitions:this.possibleValueDefinitions,entityFieldIds:t,changedFieldValues:(0,s.o)().getters.getChangedFieldValues(this.possibleValueDefinitions)}})}static processResponse(e){if(0==e.statusCode){let t=(0,s.o)();t.dispatch("setPossibleValueDefinitions",e.entityFieldDefinitions.possibleValueDefinitions),t.dispatch("setFieldDefinitions",e.entityFieldDefinitions.fieldDefinitions);for(let i in e.entityFieldDefinitions.entityFieldIds)t.dispatch("setEntityFieldIds",{entityId:i,fieldIds:e.entityFieldDefinitions.entityFieldIds[i]});for(let i of e.entityFieldDefinitions.changedFieldValues)t.dispatch("setEntityFieldValue",{entityId:i.entityId,fieldId:i.fieldId,value:i.newValue})}else n.x("4.1.5",[e.errorMessage])}}},71849:(e,t,i)=>{i.d(t,{i:()=>a});var s=i(17943),n=i(2465),o=i(62304);class a extends o.R{constructor(e,t,i){super("updateFieldValueOnEntities"),this.boardId=e,this.fieldId=t,this.entityIdToFieldValue=i}getRequestData(){return{boardId:this.boardId,fieldId:this.fieldId,entityIdToFieldValue:this.entityIdToFieldValue}}processLocally(){setTimeout((()=>{a.processResponse({statusCode:0,boardId:this.boardId,fieldId:this.fieldId,entityIdToFieldValue:this.entityIdToFieldValue})}),0)}static processResponse(e){if(0==e.statusCode)for(let t in e.entityIdToFieldValue)(0,s.o)().dispatch("setEntityFieldValue",{entityId:t,fieldId:e.fieldId,value:e.entityIdToFieldValue[t]});else n.x("4.1.7",[e.errorMessage])}}},74169:(e,t,i)=>{i.d(t,{q:()=>o});const s=(0,i(59391).Z)();let n={};function o(){return{emitter:s,emit:s.emit,register:function(e,t,i){n[e]={type:t,handler:i},s.on(t,i)},deregister:function(e){let t=n[e];s.off(t.type,t.handler),delete n[e]}}}},75975:(e,t,i)=>{function s(){let e={};return{register:function(t,i,s,n=!0){let o=e=>{n?document.activeElement&&"BODY"===document.activeElement.tagName&&s(e):s(e)};e[t]={type:i,handler:o},window.addEventListener(i,o)},deregister:function(t){let i=e[t];window.removeEventListener(i.type,i.handler),delete e[t]},deregisterAll:function(){for(let t of Object.values(e))window.removeEventListener(t.type,t.handler);e={}}}}i.d(t,{Y:()=>s})},27101:(e,t,i)=>{i.d(t,{DD:()=>o,V8:()=>s,Zf:()=>r,it:()=>a,kM:()=>n,yH:()=>l});const s="#111013",n="#545260",o="#f2f1f3",a="#b45f88",r="#3a1a51",l="#d53434"},74465:(e,t,i)=>{function s(e){return e.filter(((e,t,i)=>i.indexOf(e)===t))}function n(e,t){return null!=e&&null!=t&&t.some((t=>e.includes(t)))}function o(e){let t=function(e){return e.reduce(((e,t)=>(e[t]||(e[t]=0),e[t]++,e)),{})}(e),i=null,s=0;for(let e in t)t[e]>s&&(i=e,s=t[e]);return parseFloat(i)}function a(e,t){for(let i of t){let t=e.indexOf(i);-1!==t&&e.splice(t,1)}}function r(e,t){return e.reduce(((e,i)=>(e[i[t]]=i,e)),{})}i.d(t,{J3:()=>r,Tw:()=>s,VT:()=>n,p6:()=>a,xJ:()=>o})},85212:(e,t,i)=>{function s(e){return`${e.getUTCFullYear()}-${("0"+(e.getUTCMonth()+1)).slice(-2)}-${("0"+e.getUTCDate()).slice(-2)}`}function n(e){return`${("0"+e.getHours()).slice(-2)}:${("0"+e.getMinutes()).slice(-2)}`}function o(e){return{date:s(e),time:n(e)}}function a(e,t=s(new Date)){return Date.parse(`${e.date||t} ${e.time}`)}i.d(t,{es:()=>a,ju:()=>o})},2465:(e,t,i)=>{i.d(t,{j:()=>o,x:()=>a});var s=i(70082);let n;function o(){n=(0,s.useVueNotify)()}function a(e,t){if(""===e)n.showNotification({cssClasses:["mw-notification-failure"],dismissAfterMillis:5e3,data:{message:r("An unexpected error occurred: %s",t)}});else{let i=l[e];n.showNotification({cssClasses:["mw-notification-failure"],dismissAfterMillis:i.dismissAfterMillis,data:{message:`${r(i.clientTemplate,t)} (Error C:${e})`}})}}function r(e,t){let i=e;return Array.isArray(t)&&t.forEach((e=>i=i.replace(/%s/,e))),i}const l={"1.1.1":{dismissAfterMillis:4e3,clientTemplate:"Log-in failed: %s"},"1.1.2":{dismissAfterMillis:5e3,clientTemplate:"An unknown error has occurred: %s"},"1.2.1":{dismissAfterMillis:5e3,clientTemplate:"An unknown error has occurred: %s"},"1.2.2":{dismissAfterMillis:5e3,clientTemplate:"Password and password confirmation fields do not match."},"1.2.3":{dismissAfterMillis:5e3,clientTemplate:"Account creation failed: %s"},"1.2.4":{dismissAfterMillis:5e3,clientTemplate:"Password cannot be blank."},"1.2.5":{dismissAfterMillis:5e3,clientTemplate:"You must accept the terms of use before creating an account."},"1.3.1":{dismissAfterMillis:0,clientTemplate:"An error occurred receiving board data: %s"},"1.3.2":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred. Please refresh and try again."},"1.3.3":{dismissAfterMillis:0,clientTemplate:"An error occurred fetching project list: %s"},"1.3.4":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred. Please refresh and try again."},"1.3.5":{dismissAfterMillis:0,clientTemplate:"An error occurred saving project configuration: %s"},"1.3.6":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred when leaving the project. Please refresh and try again."},"1.3.7":{dismissAfterMillis:0,clientTemplate:"An error occurred when leaving the project: %s"},"1.3.8":{dismissAfterMillis:0,clientTemplate:"An error occurred saving board configuration: %s"},"1.3.9":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred when leaving the board. Please refresh and try again."},"1.3.10":{dismissAfterMillis:0,clientTemplate:"An error occurred when leaving the board: %s"},"1.3.11":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred when hiding the board or project. Please refresh and try again."},"1.3.12":{dismissAfterMillis:0,clientTemplate:"An error occurred when hiding the board or project: %s"},"1.3.13":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred when joining the board or project. Please refresh and try again."},"1.3.14":{dismissAfterMillis:0,clientTemplate:"An error occurred when joining the board or project: %s"},"1.3.15":{dismissAfterMillis:0,clientTemplate:"An error occurred creating the board: %s"},"1.3.16":{dismissAfterMillis:0,clientTemplate:"An error occurred fetching project list: %s"},"1.3.17":{dismissAfterMillis:0,clientTemplate:"An error occurred fetching your projects. Try refreshing the page, and if this error persists, try logging out and back in."},"1.3.18":{dismissAfterMillis:0,clientTemplate:"Project creation failed: %s"},"1.3.19":{dismissAfterMillis:0,clientTemplate:"An error occurred fetching project list: %s"},"1.3.20":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred. Please refresh and try again."},"1.3.21":{dismissAfterMillis:0,clientTemplate:"An error occurred fetching your plan data: %s"},"1.3.22":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred when deleting the board. Please refresh and try again."},"1.3.23":{dismissAfterMillis:0,clientTemplate:"An error occurred when deleting the board: %s"},"1.3.24":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred when deleting the project. Please refresh and try again."},"1.3.25":{dismissAfterMillis:0,clientTemplate:"An error occurred when deleting the project: %s"},"1.3.26":{dismissAfterMillis:3e3,clientTemplate:"Board name cannot be blank."},"1.3.27":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred receiving board templates from the server: %s"},"1.4.1":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred logging out: %s"},"1.5.1":{dismissAfterMillis:5e3,clientTemplate:"Invalid email address format."},"1.5.3":{dismissAfterMillis:5e3,clientTemplate:"Your plan is limited to only 8 members."},"1.5.4":{dismissAfterMillis:0,clientTemplate:"An error occurred when saving your user data: %s"},"1.5.5":{dismissAfterMillis:5e3,clientTemplate:"An unexpected error occurred. Please refresh your browser and try again."},"1.5.6":{dismissAfterMillis:6e3,clientTemplate:"An error occurred loading your subscription: %s"},"1.5.7":{dismissAfterMillis:6e3,clientTemplate:"An unexpected error occurred. Please refresh your browser and try again."},"1.5.8":{dismissAfterMillis:5e3,clientTemplate:"An unexpected error occurred. Please refresh your browser and try again."},"1.5.9":{dismissAfterMillis:0,clientTemplate:"An error occurred when updating your subscription: %s"},"1.5.10":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred when displaying your subscription. Try refreshing the page, and if the problem persists, reach out to customer support."},"1.5.11":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred when displaying your subscription. Try refreshing the page, and if the problem persists, reach out to customer support."},"1.5.12":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred when removing your plan member. Try refreshing the page, and if the problem persists, reach out to customer support."},"1.5.13":{dismissAfterMillis:5e3,clientTemplate:"An unexpected error occurred. Please refresh your browser and try again."},"1.5.14":{dismissAfterMillis:0,clientTemplate:"A valid, default payment method is required."},"1.5.15":{dismissAfterMillis:0,clientTemplate:"An error occurred when fetching your exact cost: %s"},"1.5.16":{dismissAfterMillis:0,clientTemplate:"An error occurred when cancelling your subscription: %s"},"1.5.17":{dismissAfterMillis:4e3,clientTemplate:"Password verification failed: %s"},"1.5.18":{dismissAfterMillis:0,clientTemplate:"An error occurred when resuming your subscription: %s"},"1.5.19":{dismissAfterMillis:0,clientTemplate:"An error occurred adding your payment method: %s"},"1.5.20":{dismissAfterMillis:0,clientTemplate:"An error occurred adding your payment method: %s"},"1.5.21":{dismissAfterMillis:0,clientTemplate:"An error occurred generating your invoice: %s"},"1.5.22":{dismissAfterMillis:0,clientTemplate:"An error occurred loading your payment methods: %s"},"1.5.23":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred loading your payment methods. Please refresh your browser and try again."},"1.6.1":{dismissAfterMillis:0,clientTemplate:"An error occurred when processing your request: %s"},"1.6.2":{dismissAfterMillis:5e3,clientTemplate:"Invalid email address format."},"1.7.1":{dismissAfterMillis:5e3,clientTemplate:"Password and password confirmation fields do not match."},"1.7.2":{dismissAfterMillis:5e3,clientTemplate:"New password cannot be blank."},"1.7.3":{dismissAfterMillis:0,clientTemplate:"%s"},"1.8.1":{dismissAfterMillis:5e3,clientTemplate:"Feedback cannot be empty."},"1.8.2":{dismissAfterMillis:0,clientTemplate:"An error occurred when submitting your feedback: %s"},"1.9.1":{dismissAfterMillis:5e3,clientTemplate:"An error occurred fetching the release notes: %s"},"1.10.1":{dismissAfterMillis:5e3,clientTemplate:"An error occurred during authentication: %s"},"1.10.2":{dismissAfterMillis:5e3,clientTemplate:"An error occurred updating the MotD: %s"},"1.10.3":{dismissAfterMillis:5e3,clientTemplate:"An error occurred stopping an app server: %s"},"1.10.4":{dismissAfterMillis:5e3,clientTemplate:"An error occurred posting an outage: %s"},"2.1.1":{dismissAfterMillis:0,clientTemplate:"An error occurred loading your project and board: %s"},"2.1.2":{dismissAfterMillis:0,clientTemplate:"An error occurred loading your project and board. Try refreshing the page, and if this error persists, try logging out and back in."},"2.2.1":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred loading your view. Please refresh your browser and try again."},"3.1.1":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred updating some field values."},"3.2.1":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred moving your block. Try refreshing the page, and if this error persists, reach out to our support team at support@moonwafer.io"},"3.3.1":{dismissAfterMillis:5e3,clientTemplate:"View name cannot be blank."},"3.3.2":{dismissAfterMillis:5e3,clientTemplate:"Must choose a field for creating the columns."},"4.1.1":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred. Please refresh your browser and try again."},"4.1.2":{dismissAfterMillis:0,clientTemplate:"Feature not currently available in the demo. This was a miss on our side - let us know you saw this message, and we'll add it in!"},"4.1.3":{dismissAfterMillis:6e3,clientTemplate:"An error occurred deleting blocks: %s"},"4.1.4":{dismissAfterMillis:6e3,clientTemplate:"An error occurred setting the parent block: %s"},"4.1.5":{dismissAfterMillis:6e3,clientTemplate:"An error occurred setting new field definitions: %s"},"4.1.6":{dismissAfterMillis:6e3,clientTemplate:"An error occurred setting new classification definitions: %s"},"4.1.7":{dismissAfterMillis:6e3,clientTemplate:"An error occurred setting the field's value: %s"},"4.1.8":{dismissAfterMillis:6e3,clientTemplate:"An error occurred setting the block's classification: %s"},"4.1.9":{dismissAfterMillis:6e3,clientTemplate:"An error occurred fetching the board data: %s"},"4.1.10":{dismissAfterMillis:6e3,clientTemplate:"An error occurred moving the block(s): %s"},"4.1.11":{dismissAfterMillis:6e3,clientTemplate:"An error occurred updating the block's summary: %s"},"4.1.12":{dismissAfterMillis:6e3,clientTemplate:"An error occurred creating a new block: %s"},"4.1.13":{dismissAfterMillis:0,clientTemplate:"Failed to load demo data: %s"},"4.1.14":{dismissAfterMillis:6e3,clientTemplate:"An error occurred saving the view: %s"},"4.1.15":{dismissAfterMillis:6e3,clientTemplate:"An error occurred loading the view: %s"},"4.1.16":{dismissAfterMillis:6e3,clientTemplate:"An error occurred deleting the view: %s"},"4.1.17":{dismissAfterMillis:6e3,clientTemplate:"An error occurred changing the block's priority: %s"},"4.2.1":{dismissAfterMillis:0,clientTemplate:"An unknown error has occurred: %s"},"4.3.1":{dismissAfterMillis:0,clientTemplate:"An error occurred fetching the latest release notes: %s"},"5.1.1":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred. Please refresh your browser and try again."},"5.1.2":{dismissAfterMillis:0,clientTemplate:"An unexpected error occurred. Please refresh your browser and try again."}}},52433:(e,t,i)=>{function s(e,t){if(!e)return!1;for(let i of t)if(void 0===e[i])return!1;return!0}function n(e){return e===Object(e)}function o(e,t){if(!n(e)&&!n(t))return e===t;if(n(e)&&!n(t)||!n(e)&&n(t))return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i of Object.keys(e))if(e[i]!==t[i])return!1;return!0}i.d(t,{L5:()=>s,wy:()=>o})},5067:(e,t,i)=>{i.d(t,{$:()=>s});function s(e,t,i,n=200,o=20,a=0){return r=this,l=void 0,c=function*(){(yield e())?t():a>o?i():setTimeout((()=>s(e,t,i,n,o,a+1)),n)},new((d=void 0)||(d=Promise))((function(e,t){function i(e){try{n(c.next(e))}catch(e){t(e)}}function s(e){try{n(c.throw(e))}catch(e){t(e)}}function n(t){var n;t.done?e(t.value):(n=t.value,n instanceof d?n:new d((function(e){e(n)}))).then(i,s)}n((c=c.apply(r,l||[])).next())}));var r,l,d,c}},61746:(e,t,i)=>{function s(e,t,i,s){return{x:i<0?e+i:e,y:s<0?t+s:t,width:Math.abs(i),height:Math.abs(s)}}function n(e,t){return e.x<=t.x&&e.x+e.width>=t.x&&e.y<=t.y&&e.y+e.height>=t.y}i.d(t,{F:()=>s,o:()=>n})},29492:(e,t,i)=>{function s(e){return!e||0==e.trim().length}function n(e){return"string"==typeof e||e instanceof String}i.d(t,{HD:()=>n,Jc:()=>r,W7:()=>u,cD:()=>c,fp:()=>s,lG:()=>d,vV:()=>a});const o=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function a(e){return o.test(e)}function r(e){let t=("00"+e%100).slice(-2);return`$ ${Math.floor(e/100)}.${t}`}const l=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(e,t){return e+("00"+t).slice(-2)}function c(e,t){return`${("00"+e).slice(-2)}/${("00"+t).slice(-2)}`}function u(e){return`${l[e.getMonth()]} ${e.getDate()}, ${e.getFullYear()}`}},12017:(e,t,i)=>{i.d(t,{ws:()=>O});var s=i(63992),n=i(95278),o=i(70082),a=i(2465),r=i(17943),l=i(68952),d=i(33414),c=i(2262),u=i(11863),p=i(85274),f=i(1031),m=i(81375),h=i(34151),b=i(97242),y=i(57664),g=i(93828),v=i(71849),I=i(60511),E=i(65108),w=i(89809),T=i(54291),A=i(13821);class D extends A.qL{constructor(){super(A.R3,"/getOutage")}getRequestData(){}}const x="ws-connecting-dialog";let P=(0,r.o)(),k=!1,O=new class{constructor(){this.connectionDialogMessage=(0,c.qj)({mwMessage:""})}isConnected(){return void 0!==this.socket&&this.socket.connected}emit(e,t){this.isConnected()?this.socket.emit(e,t):a.x("5.1.1")}connectWebsocket(e,t){return this.openConnectionDialog(),this.setConnectionDialogMessage("connecting..."),new Promise(((i,r)=>{this.isConnected()||(this.socket=(0,s.ZP)({path:`/ws/app/${e}`,transports:["websocket"],query:{clientVersion:"0.27-next"}}),(new D).send((({data:e})=>{(null==e?void 0:e.timestamp)&&((0,o.useVueNotify)().showNotification({cssClasses:["mw-notification-failure"],position:"middle-center",dismissButton:!1,data:{message:"Due to a planned outage, we're currently not accepting new connections. Please try back in a few minutes."}}),this.disconnectWebsocket())})),function(e){const t="data-recovery";let i={id:t,styleOverrides:{width:"600px"},layout:{componentName:"mw-vm-no-layout",panes:{main:{componentName:"eic-data-recovery-dialog",eventHandlers:{"mw-close-modal":()=>{(0,n.useVueModals)().closeModal(t)}}}}}};e.on("initializationStatus",(e=>{var t;if("OK"===e.status){let e=null===(t=P.state.generalData.currentViewData)||void 0===t?void 0:t.boardId;e?new d.A(e).send():a.x("5.1.2")}else"FAILED"===e.status?(0,n.useVueModals)().createOrUpdateModal(i):["INITIALIZING","NEEDS_RECOVERY","RECOVERING"].includes(e.status)})),e.on("boardData",(e=>{O.closeConnectionDialog(),O.closeOutageNotification(!0),d.A.processResponse(e)})),e.on("updatedEntityPositions",(e=>{y.E.processResponse(e)})),e.on("updatedEntityContent",(e=>{b.I.processResponse(e)})),e.on("newEntity",(e=>{u.w.processResponse(e)})),e.on("entitiesDeleted",(e=>{p.D.processResponse(e)})),e.on("parentEntitySet",(e=>{f.e.processResponse(e)})),e.on("fieldDefinitions",(e=>{g.H.processResponse(e)})),e.on("classificationDefinitions",(e=>{m.O.processResponse(e)})),e.on("entityFieldValue",(e=>{v.i.processResponse(e)})),e.on("entityClassifications",(e=>{h.u.processResponse(e)})),e.on("viewData",(e=>{I.Dd.processResponse(e)})),e.on("viewSaved",(e=>{E.w.processResponse(e)})),e.on("viewDeleted",(e=>{w.h.processResponse(e)})),e.on("blockPrioritySet",(e=>{T.k.processResponse(e)})),e.on("outage",(e=>{O.showOutageNotification(e.timestamp)}))}(this.socket),this.socket.on("oldClient",(()=>{k=!0,this.closeConnectionDialog(),(0,o.useVueNotify)().showNotification({cssClasses:["mw-notification-failure"],data:{message:"You have an outdated client. Please refresh your browser to continue using Spacia."},dismissButton:!1,dismissAfterMillis:0,position:"middle-center"})})),this.socket.on("clientValidated",(()=>{let e=(0,l.F)().authToken().value;this.socket.emit("subscribeToBoard",{boardId:t,authToken:e}),this.setConnectionDialogMessage("fetching data..."),i()})),this.socket.on("disconnect",(()=>{k||(this.openConnectionDialog(),this.setConnectionDialogMessage("reconnecting..."))})))}))}disconnectWebsocket(){this.socket&&(this.socket.removeAllListeners(),this.socket.disconnect(),this.closeConnectionDialog())}openConnectionDialog(){(0,n.useVueModals)().createOrUpdateModal({id:x,styleOverrides:{width:"400px",height:"200px"},layout:{componentName:"mw-vm-no-layout",panes:{main:{componentName:"eic-ws-connection-dialog",componentData:this.connectionDialogMessage}}}})}setConnectionDialogMessage(e){this.connectionDialogMessage.mwMessage=e}closeConnectionDialog(){(0,n.useVueModals)().closeModal(x)}showOutageNotification(e){this.closeOutageNotification(),e&&(this.outageNotificationId=(0,o.useVueNotify)().showNotification({cssClasses:["mw-notification-warning"],position:"middle-center",data:{message:`Heads up! We planned a service outage for ${new Date(e).toLocaleString()}. Outages usually last less than 15 minutes, during which you'll lose connection and will not be able to make any changes. We're sorry for this inconvenience!`}}))}closeOutageNotification(e=!1){this.outageNotificationId&&((0,o.useVueNotify)().deleteNotification(this.outageNotificationId),e&&(this.outageNotificationId=(0,o.useVueNotify)().showNotification({cssClasses:["mw-notification-success"],position:"top-center",dismissAfterMillis:2e3,data:{message:"And we're back!"}})))}}},84351:(e,t,i)=>{i(21651),i(7449);var s=i(93379),n=i.n(s),o=i(7795),a=i.n(o),r=i(90569),l=i.n(r),d=i(3565),c=i.n(d),u=i(19216),p=i.n(u),f=i(44589),m=i.n(f),h=i(34626),b={};b.styleTagTransform=m(),b.setAttributes=c(),b.insert=l().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=p(),n()(h.Z,b),h.Z&&h.Z.locals&&h.Z.locals;var y=i(49963),g=i(66252),v=i(3577);const I={class:"mw-app"};var E=i(42119),w=i(70082),T=i.n(w),A=i(68952);const D=(0,g.aZ)({setup(){const e=(0,E.tv)(),t=(0,A.F)(),i=(0,g.Fl)((()=>!e.currentRoute.value.path.startsWith("/app")));return navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")&&(0,w.useVueNotify)().showNotification({cssClasses:["mw-notification-failure"],position:"middle-center",data:{message:"It looks like you're using Safari. Due to a large number of compatibility issues, we're unable to support Safari at this time. We recommend using Firefox, Chrome, or a Chromium-based browser."}}),setTimeout((()=>{(0,w.useVueNotify)().showNotification({cssClasses:["mw-notification-notice"],data:{message:"Welcome to Spacia! This service is no longer being offered, but the website remains up for referential reasons. All functionality has been disabled. This service has been replaced with an offline, open-source application that you can find at https://getconstellation.dev"}})}),500),{isOnWebsite:i,pointerEventsDisabled:t.pointerEventsDisabled()}}});var x=i(3484),P={};P.styleTagTransform=m(),P.setAttributes=c(),P.insert=l().bind(null,"head"),P.domAPI=a(),P.insertStyleElement=p(),n()(x.Z,P),x.Z&&x.Z.locals&&x.Z.locals;var k=i(83744);const O=(0,k.Z)(D,[["render",function(e,t,i,s,n,o){const a=(0,g.up)("mw-vm-modal-group"),r=(0,g.up)("mw-vn-notification-display"),l=(0,g.up)("eic-titlebar"),d=(0,g.up)("router-view"),c=(0,g.up)("eic-starry-sky"),u=(0,g.up)("eic-footer"),p=(0,g.up)("eic-slide-open-tray");return(0,g.wg)(),(0,g.iD)("div",I,[(0,g.kq)(" Comment out the component-preview when not in use.\n        <eic-component-preview></eic-component-preview>\n        "),(0,g.Wm)(a,{class:(0,v.C_)({"disable-pointer-events":e.pointerEventsDisabled})},null,8,["class"]),(0,g.Wm)(r),e.isOnWebsite?((0,g.wg)(),(0,g.j4)(l,{key:0})):(0,g.kq)("v-if",!0),(0,g._)("main",null,[(0,g.Wm)(d),e.isOnWebsite?((0,g.wg)(),(0,g.j4)(c,{key:0})):(0,g.kq)("v-if",!0)]),e.isOnWebsite?((0,g.wg)(),(0,g.j4)(u,{key:1})):(0,g.kq)("v-if",!0),(0,g.Wm)(p)])}]]);var C=i(95278),M=i.n(C),S=i(27101),N=i(2465),R=i(17943);const V={id:"mw-app"},F={class:"eic-app-content"};var j=i(2262),B=i(12017),_=i(5067),L=i(74465),W=i(50432),X=i(75975),U=i(74169),H=i(13821),q=i(37387);class $ extends H.qL{constructor(e,t){super(H.R3,`/permissions/${e}/${t}`)}getRequestData(){}processLocally(e){let t={};t[q.CR.id]=["PROJECT_OWNER"],Object.keys(q.QW).forEach((e=>t[e]=["BOARD_OWNER"])),e({data:{statusCode:0,token:"demo-mode",permissions:t}})}}var Y=i(94254),z=i(33414);const J=(0,g.aZ)({props:{},setup(){const e=(0,R.o)(),t=(0,A.F)(),i=(0,W.V)(),s=(0,w.useVueNotify)(),n=(0,X.Y)(),o=(0,U.q)(),a=(0,E.tv)(),r=a.currentRoute.value.params.projectId.toString(),l=a.currentRoute.value.params.boardId.toString();e.dispatch("setCurrentView",{projectId:r,boardId:l});let d,c,u=t.inDemoMode();function p(e,t){e&&t&&(document.title=e+" - "+t)}(0,g.bv)((()=>{if(u.value)p(q.CR.name,q.QW[l].name),d=s.showNotification({cssClasses:["mw-notification-info"],position:"middle-center",componentName:"eic-demo-board-welcome"}),console.log("Not connecting websocket since we're running in demo mode."),new z.A(l).send(),new $(r,l).send((({data:t})=>{e.dispatch("setCurrentAppPermissions",{authToken:t.token,permissions:t.permissions})}));else{let i=t.projectsAndBoards(),n=i.value.find((e=>e.projectId===r));if(void 0===n){let e=t.userData();(0,_.$)((()=>void 0!==e.value.userId),(()=>{new Y.L(e.value.userId).send((({data:e})=>{if(0===e.statusCode){t.setProjectData(Y.L.parseResponse(e));let s=i.value.find((e=>e.projectId===r)),n=null==s?void 0:s.boards[l];p(null==s?void 0:s.projectName,null==n?void 0:n.boardName)}else N.x("2.1.1",[e.errorMessage])}))}),(()=>{N.x("2.1.2")}))}else{let e=null==n?void 0:n.boards[l];p(null==n?void 0:n.projectName,null==e?void 0:e.boardName)}new $(r,l).send((({data:t})=>{e.dispatch("setCurrentAppPermissions",{authToken:t.token,permissions:t.permissions}),L.VT(t.permissions[l],["BOARD_EDIT_CONTENTS","BOARD_OWNER"])||(c=s.showNotification({cssClasses:["mw-notification-info"],componentName:"eic-read-only-notification"})),B.ws.connectWebsocket(r,l)}))}n.register("globalAppKeyDown","keydown",(e=>{"/"===e.key?(o.emit("focusSearch"),e.preventDefault()):"Down"===e.key||"ArrowDown"===e.key?o.emit("nextSearchResult"):"Up"===e.key||"ArrowUp"===e.key?o.emit("previousSearchResult"):e.ctrlKey||e.metaKey||e.altKey||" "!==e.key||i.toggleBlockExpansion(i.selectedEntityIds().value)}))})),(0,g.Ah)((()=>{n.deregisterAll(),B.ws.disconnectWebsocket(),e.dispatch("clearBoardState"),d&&s.deleteNotification(d),c&&s.deleteNotification(c)}));let f=(0,j.iH)(!0);return{showMindMap:f,showHideMindMap:e=>{e?f.value=!0:setTimeout((()=>f.value=!1),400)}}}});var Z=i(79168),K={};K.styleTagTransform=m(),K.setAttributes=c(),K.insert=l().bind(null,"head"),K.domAPI=a(),K.insertStyleElement=p(),n()(Z.Z,K),Z.Z&&Z.Z.locals&&Z.Z.locals;const G=(0,k.Z)(J,[["render",function(e,t,i,s,n,o){const a=(0,g.up)("eic-app-titlebar"),r=(0,g.up)("eic-view-container"),l=(0,g.up)("eic-relationship-view");return(0,g.wg)(),(0,g.iD)("div",V,[(0,g.Wm)(a),(0,g.kq)(" Default to using a relationship view if no view is chosen "),(0,g._)("div",F,[(0,g.Wm)(r,{onViewOpened:t[0]||(t[0]=t=>e.showHideMindMap(!1)),onViewClosed:t[1]||(t[1]=t=>e.showHideMindMap(!0))}),(0,g.wy)((0,g.Wm)(l,null,null,512),[[y.F8,e.showMindMap]])])])}]]);var Q=function(e,t,i,s){return new(i||(i=Promise))((function(n,o){function a(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,r)}l((s=s.apply(e,t||[])).next())}))};const ee=()=>i.e(328).then(i.bind(i,49789)),te=()=>i.e(426).then(i.bind(i,77426)),ie=(0,R.o)();function se(){return new Promise(((e,t)=>{e(!1)}))}function ne(e,t){return Q(this,void 0,void 0,(function*(){if(!e.path.startsWith("/app/demo")&&!(yield se()))return{path:"/log-in",query:{target:e.path}}}))}(0,g.Fl)((()=>ie.state.generalData.userData)),(0,g.Fl)((()=>ie.state.generalData.adminData));const oe=[{path:"/",component:()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,13357))},{path:"/changelog",component:()=>i.e(260).then(i.bind(i,36260))},{path:"/contact-us",component:()=>i.e(4).then(i.bind(i,44004))},{path:"/about-us",component:()=>i.e(865).then(i.bind(i,75865))},{path:"/admin",component:()=>i.e(328).then(i.bind(i,47180)),children:[{path:"",component:ee},{name:"auth",path:"auth",component:ee},{name:"outage",path:"outage",component:()=>i.e(328).then(i.bind(i,65453))},{name:"message",path:"message",component:()=>i.e(328).then(i.bind(i,40898))},{name:"projects",path:"projects",component:()=>i.e(328).then(i.bind(i,43251))}],beforeEnter:[function(e,t){return Q(this,void 0,void 0,(function*(){if(!(yield new Promise(((e,t)=>{e(!1)}))))return{path:"/404-not-found"}}))}]},{path:"/documentation",component:()=>i.e(70).then(i.bind(i,78070)),children:[{path:"",component:te},{name:"crash-course",path:"crash-course",component:te},{name:"doc-kanban-view",path:"kanban-view",component:()=>i.e(32).then(i.bind(i,29032))},{name:"doc-filter-view",path:"filter-view",component:()=>i.e(876).then(i.bind(i,27876))}]},{path:"/log-in",component:()=>Promise.all([i.e(194),i.e(535)]).then(i.bind(i,77)),beforeEnter:[function(e,t){return Q(this,void 0,void 0,(function*(){if(yield se())return{path:"/account"}}))}]},{path:"/log-out",component:()=>Promise.all([i.e(194),i.e(473)]).then(i.bind(i,73473))},{path:"/projects",component:()=>Promise.all([i.e(208),i.e(809)]).then(i.bind(i,70515)),beforeEnter:[ne]},{path:"/account",component:()=>Promise.all([i.e(208),i.e(809)]).then(i.bind(i,77773)),beforeEnter:[ne],children:[{name:"account-home",path:"",component:()=>Promise.all([i.e(208),i.e(809)]).then(i.bind(i,71257))},{name:"account-members",path:"members",component:()=>Promise.all([i.e(208),i.e(660)]).then(i.bind(i,94190))},{name:"account-payment",path:"payment",component:()=>Promise.all([i.e(208),i.e(660)]).then(i.bind(i,16073))},{name:"account-address",path:"address",component:()=>Promise.all([i.e(208),i.e(660)]).then(i.bind(i,62171))},{name:"account-confirmation",path:"confirmation",component:()=>Promise.all([i.e(208),i.e(660)]).then(i.bind(i,21303))}]},{path:"/privacy-policy",component:()=>i.e(979).then(i.bind(i,17865))},{path:"/terms-of-use",component:()=>i.e(979).then(i.bind(i,45876))},{path:"/terms-of-service",component:()=>i.e(979).then(i.bind(i,1178))},{path:"/app/:projectId/:boardId/:viewId?",name:"app-home",component:G,beforeEnter:[ne]},{path:"/:pathMatch(.*)*",name:"404-not-found",component:()=>i.e(246).then(i.bind(i,88246))}];let ae={"eic-mappablelabel":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,55156)),"eic-textbox":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,87466)),"eic-markdowneditor":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,18206)),"eic-checkbox":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,63237)),"eic-radiobutton":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,97312)),"eic-datetime":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,36031)),"eic-lightswitch":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,40918)),"eic-dropdown":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,44045)),"eic-infodisplay":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,70338)),"eic-possiblevaluedisplay":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,3081)),"eic-expandable-tree":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,79491)),"eic-keyboard-key":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,65982)),"eic-close":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,64855)),"eic-release-note-display":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,52927)),"eic-release-notes-formatted":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,14304)),"eic-password-confirmation":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,96211)),"eic-staged-progress-bar":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,28617)),"eic-savecancel":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,49543)),"eic-savedontsavecancel":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,17072)),"eic-nextprevious":()=>Promise.all([i.e(492),i.e(189)]).then(i.bind(i,21135)),"eic-component-preview":()=>i.e(995).then(i.bind(i,61995)),"eic-slide-open-tray":()=>i.e(149).then(i.bind(i,87434)),"eic-give-feedback":()=>i.e(149).then(i.bind(i,44703)),"eic-controls-container":()=>i.e(149).then(i.bind(i,91746)),"eic-mind-map-controls":()=>i.e(149).then(i.bind(i,59572)),"eic-filter-controls":()=>i.e(149).then(i.bind(i,18429)),"eic-kanban-controls":()=>i.e(149).then(i.bind(i,50321)),"eic-svg-arrow":()=>i.e(566).then(i.bind(i,31143)),"eic-svg-arrow-2":()=>i.e(566).then(i.bind(i,54749)),"eic-svg-calendar":()=>i.e(566).then(i.bind(i,36254)),"eic-svg-chainlink":()=>i.e(566).then(i.bind(i,27254)),"eic-svg-deletion-x":()=>i.e(566).then(i.bind(i,42207)),"eic-svg-doublearrow":()=>i.e(566).then(i.bind(i,41868)),"eic-svg-download":()=>i.e(566).then(i.bind(i,48638)),"eic-svg-draghandle":()=>i.e(566).then(i.bind(i,43488)),"eic-svg-equalize-widths":()=>i.e(566).then(i.bind(i,16040)),"eic-svg-filter":()=>i.e(566).then(i.bind(i,18213)),"eic-svg-gear":()=>i.e(566).then(i.bind(i,54067)),"eic-svg-hierarchy-symbol":()=>i.e(566).then(i.bind(i,78464)),"eic-svg-hamburger":()=>i.e(566).then(i.bind(i,90179)),"eic-svg-kanban":()=>i.e(566).then(i.bind(i,96612)),"eic-svg-lock":()=>i.e(566).then(i.bind(i,33823)),"eic-svg-magnifying-glass":()=>i.e(566).then(i.bind(i,65308)),"eic-svg-pencil":()=>i.e(566).then(i.bind(i,43779)),"eic-svg-person":()=>i.e(566).then(i.bind(i,89821)),"eic-svg-paper":()=>i.e(566).then(i.bind(i,23615)),"eic-svg-plus":()=>i.e(566).then(i.bind(i,77037)),"eic-svg-question-mark":()=>i.e(566).then(i.bind(i,36357)),"eic-svg-reset-arrow":()=>i.e(566).then(i.bind(i,73663)),"eic-svg-stack-blocks":()=>i.e(566).then(i.bind(i,33572)),"eic-svg-speech-bubble":()=>i.e(566).then(i.bind(i,11778)),"eic-svg-triangle":()=>i.e(566).then(i.bind(i,93816)),"eic-footer":()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,5100)),"eic-titlebar":()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,45534)),"eic-navigation":()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,50435)),"eic-home-simple":()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,77714)),"eic-home-banner":()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,19252)),"eic-home-principles":()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,45141)),"eic-home-principles-desktop":()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,62011)),"eic-home-principles-mobile":()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,73953)),"eic-home-demos":()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,70017)),"eic-starry-sky":()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,87479)),"eic-plans-and-pricing":()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,31148)),"eic-personal-plan":()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,79955)),"eic-friends-and-family-plan":()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,94167)),"eic-business-plan":()=>Promise.all([i.e(194),i.e(177)]).then(i.bind(i,7359)),"eic-projects-board":()=>Promise.all([i.e(208),i.e(809)]).then(i.bind(i,3385)),"eic-projects-createboard":()=>Promise.all([i.e(208),i.e(809)]).then(i.bind(i,52519)),"eic-create-board-dialog":()=>Promise.all([i.e(208),i.e(809)]).then(i.bind(i,40477)),"eic-edit-project-dialog":()=>Promise.all([i.e(208),i.e(809)]).then(i.bind(i,37429)),"eic-edit-board-dialog":()=>Promise.all([i.e(208),i.e(809)]).then(i.bind(i,19255)),"eic-pending-invites-dialog":()=>Promise.all([i.e(208),i.e(809)]).then(i.bind(i,25627)),"eic-user-data-form":()=>Promise.all([i.e(208),i.e(809)]).then(i.bind(i,97782)),"eic-subscription-summary":()=>Promise.all([i.e(208),i.e(809)]).then(i.bind(i,71778)),"eic-login-form":()=>Promise.all([i.e(194),i.e(535)]).then(i.bind(i,53618)),"eic-forgot-pw-form":()=>Promise.all([i.e(194),i.e(535)]).then(i.bind(i,23771)),"eic-reset-pw-form":()=>Promise.all([i.e(194),i.e(535)]).then(i.bind(i,19150)),"eic-create-account-form":()=>Promise.all([i.e(194),i.e(535)]).then(i.bind(i,50484)),"eic-create-account-notification":()=>Promise.all([i.e(194),i.e(535)]).then(i.bind(i,99394)),"eic-relationship-view":()=>Promise.all([i.e(194),i.e(143)]).then(i.bind(i,90807)),"eic-canvas":()=>Promise.all([i.e(194),i.e(143)]).then(i.bind(i,25473)),"eic-entity":()=>Promise.all([i.e(194),i.e(143)]).then(i.bind(i,10449)),"eic-expanded-entity":()=>Promise.all([i.e(194),i.e(143)]).then(i.bind(i,12514)),"eic-entity-tray":()=>Promise.all([i.e(194),i.e(143)]).then(i.bind(i,71293)),"eic-link":()=>Promise.all([i.e(194),i.e(143)]).then(i.bind(i,61073)),"eic-text-content":()=>Promise.all([i.e(194),i.e(143)]).then(i.bind(i,93175)),"eic-alignment-controls":()=>i.e(642).then(i.bind(i,37465)),"eic-app-search":()=>i.e(642).then(i.bind(i,46743)),"eic-app-basicsearch":()=>i.e(642).then(i.bind(i,87306)),"eic-app-titlebar":()=>i.e(642).then(i.bind(i,23175)),"eic-app-configpane":()=>i.e(642).then(i.bind(i,39002)),"eic-dynamic-field":()=>Promise.all([i.e(194),i.e(143)]).then(i.bind(i,63317)),"eic-ws-connection-dialog":()=>Promise.all([i.e(194),i.e(143)]).then(i.bind(i,69559)),"eic-data-recovery-dialog":()=>Promise.all([i.e(137),i.e(10)]).then(i.bind(i,62427)),"eic-demo-board-welcome":()=>Promise.all([i.e(137),i.e(10)]).then(i.bind(i,98070)),"eic-view-selector":()=>i.e(642).then(i.bind(i,26536)),"eic-read-only-notification":()=>Promise.all([i.e(137),i.e(10)]).then(i.bind(i,63643)),"eic-edit-classifications-dialog":()=>Promise.all([i.e(137),i.e(10)]).then(i.bind(i,82413)),"eic-edit-fields-dialog":()=>Promise.all([i.e(137),i.e(10)]).then(i.bind(i,84066)),"eic-field-row":()=>Promise.all([i.e(137),i.e(10)]).then(i.bind(i,3706)),"eic-possible-value-pane":()=>Promise.all([i.e(137),i.e(10)]).then(i.bind(i,82111)),"eic-style-editor":()=>Promise.all([i.e(137),i.e(10)]).then(i.bind(i,20507)),"eic-recent-color-picker":()=>Promise.all([i.e(137),i.e(10)]).then(i.bind(i,31757)),"eic-view-container":()=>Promise.all([i.e(194),i.e(143)]).then(i.bind(i,60938)),"eic-filter-chain-config":()=>Promise.all([i.e(137),i.e(537)]).then(i.bind(i,48613)),"eic-kanban-contents":()=>Promise.all([i.e(137),i.e(537)]).then(i.bind(i,8217)),"eic-kanban-config":()=>Promise.all([i.e(137),i.e(537)]).then(i.bind(i,68280)),"eic-filter-contents":()=>Promise.all([i.e(137),i.e(537)]).then(i.bind(i,31944)),"eic-filter-config":()=>Promise.all([i.e(137),i.e(537)]).then(i.bind(i,11819))};var re=i(27856),le=i.n(re);const de=(0,y.ri)(O);de.use(M(),{styleDefaults:{background:`linear-gradient(60deg, ${S.it} 16.54%, ${S.Zf} 80.98%)`,border:"1px solid black","border-radius":"8px","box-shadow":"0px 0px 20px rgba(0,0,0,0.5)",width:"500px",padding:"3px"}}),de.use(T(),{defaults:{position:"top-center"}}),N.j(),de.use(R.h);const ce=(0,E.p7)({history:(0,E.PO)(),routes:oe,scrollBehavior:()=>({top:0})});de.use(ce);for(let e in ae)de.component(e,(0,g.RC)(ae[e]));le().addHook("afterSanitizeAttributes",(function(e){"target"in e&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener"))})),de.mount("#app")},50432:(e,t,i)=>{i.d(t,{V:()=>c});var s=i(66252),n=i(17943),o=i(61746),a=i(75930),r=i(27101);function l(e,t,i,s){return e<i&&i<e+t||i<e&&e<i+s}function d(e,t,i){let s={},n=e.getters.classificationIds,o=e.getters.classifications,l=e.getters.fields,d=e.getters.possibleValues,c=e=>{let i=(0,a.oe)(l[e].type,t.fieldValues[e]),n=Array.isArray(i)?i:[i];l[e].possibleValueIds.map((e=>d[e])).filter((e=>n.includes(e.name))).forEach((e=>{var t,i,n;(null===(t=null==e?void 0:e.style)||void 0===t?void 0:t.background)&&(s.fill=e.style.background),(null===(i=null==e?void 0:e.style)||void 0===i?void 0:i.border)&&(s.stroke=e.style.border),(null===(n=null==e?void 0:e.style)||void 0===n?void 0:n.text)&&(s.color=e.style.text)}))};return n.filter((e=>t.classificationIds.includes(e))).forEach((e=>{var i;null===(i=o[e].fieldIds)||void 0===i||i.filter((e=>t.fieldValues[e])).forEach((e=>c(e)))})),t.fieldIds.filter((e=>"entity"===l[e].sourceType)).forEach((e=>c(e))),t.isSelected&&(s.filter=`drop-shadow(0 0 ${10/i}px ${r.DD})`),s.strokeWidth=3/i,s}function c(){let e=(0,n.o)();return{rawState:e.state.entityData,visibleEntities:()=>function(e){return(0,s.Fl)((()=>e.getters.visibleEntities))}(e),selectedEntities:()=>function(e){return(0,s.Fl)((()=>e.getters.selectedEntities))}(e),selectedEntityIds:()=>function(e){return(0,s.Fl)((()=>e.getters.selectedEntityIds))}(e),expandedEntityIds:()=>function(e){return(0,s.Fl)((()=>e.getters.expandedEntityIds))}(e),entityAtCoordinates:t=>function(e,t){return Object.values(e.state.entityData.entities).find((e=>(0,o.o)(e.location,t)))}(e,t),getStyles:(t,i)=>d(e,t,i),getCssStyles:(t,i)=>function(e,t,i){let s=d(e,t,i),n={};return s.fill&&(n.background=s.fill),s.stroke&&(n.border=s.strokeWidth+"px solid "+s.stroke),s.color&&(n.color=s.color),n}(e,t,i),entityIdBeingEdited:()=>function(e){return(0,s.Fl)((()=>e.state.entityData.entityIdBeingEdited))}(e),entitySearch:t=>function(e,t){return(0,s.Fl)((()=>e.getters.entitySearch(t)))}(e,t),getSummaryText:t=>function(e,t){return e.state.entityData.entities[t].content.data.text}(e,t),activeClassificationFieldIds:t=>function(e,t){return(0,s.Fl)((()=>e.getters.activeClassificationFieldIds(t)))}(e,t),activeEntityFieldIds:t=>function(e,t){return(0,s.Fl)((()=>e.getters.activeEntityFieldIds(t)))}(e,t),activeFieldValueCounts:t=>function(e,t){return(0,s.Fl)((()=>e.getters.activeFieldValueCounts(t)))}(e,t),clearEntitySelection:()=>function(e){e.dispatch("clearEntitySelection")}(e),selectEntity:(t,i)=>function(e,t,i){e.dispatch("selectEntity",{entityId:t,clearCurrentSelection:i})}(e,t,i),selectEntities:(t,i)=>function(e,t,i){e.dispatch("selectEntities",{entityIds:t,clearCurrentSelection:i})}(e,t,i),selectEntitiesByBoundingBox:(t,i)=>function(e,t,i){let s=[];Object.keys(e.state.entityData.entities).forEach((i=>{let n=e.state.entityData.entities[i].location;l(n.x,n.width,t.x,t.width)&&l(n.y,n.height,t.y,t.height)&&s.push(i)})),e.dispatch("selectEntities",{entityIds:s,clearCurrentSelection:i})}(e,t,i),toggleBlockExpansion:t=>function(e,t){e.dispatch("lockOpenClosed",{entityIds:t})}(e,t),startEditingEntity:t=>function(e,t){e.dispatch("startEditingEntity",t)}(e,t),stopEditingEntity:()=>function(e){e.dispatch("stopEditingEntity")}(e),expandEntity:t=>function(e,t){e.dispatch("expandEntity",t)}(e,t),contractEntity:t=>function(e,t){e.dispatch("contractEntity",t)}(e,t),dragSelectedEntities:(t,i)=>function(e,t,i){e.dispatch("dragSelectedEntities",{deltaX:t,deltaY:i})}(e,t,i),resizeSelectedEntities:(t,i)=>function(e,t,i){e.dispatch("resizeSelectedEntities",{deltaX:t,deltaY:i})}(e,t,i),setEntityPositions:t=>function(e,t){e.dispatch("setEntityPositions",t)}(e,t),deleteEntities:t=>function(e,t){e.dispatch("deleteEntities",t)}(e,t),deleteSelectedEntities:()=>function(e){e.dispatch("deleteSelectedEntities")}(e),setEntityContent:(t,i)=>function(e,t,i){e.dispatch("setEntityContent",{entityId:t,newContent:i})}(e,t,i),setBlockPriority:(t,i)=>function(e,t,i){e.dispatch("setBlockPriority",{blockId:[t],higherThan:i})}(e,t,i),removeBlockPriority:t=>function(e,t){e.dispatch("removeBlockPriority",t)}(e,t)}}},68952:(e,t,i)=>{i.d(t,{F:()=>o});var s=i(66252),n=i(17943);function o(){let e=(0,n.o)();return{rawState:e.state.generalData,userData:()=>function(e){return(0,s.Fl)((()=>e.state.generalData.userData))}(e),adminData:()=>function(e){return(0,s.Fl)((()=>e.state.generalData.adminData))}(e),setAdminData:t=>function(e,t){"jwt"in t&&e.dispatch("setAdminJwt",t.jwt)}(e,t),projectsAndBoards:()=>function(e){return(0,s.Fl)((()=>e.state.generalData.projectData))}(e),authToken:()=>function(e){return(0,s.Fl)((()=>e.state.generalData.authToken))}(e),currentAppPermissions:()=>function(e){return(0,s.Fl)((()=>e.getters.currentPermissions))}(e),inDemoMode:()=>function(e){return(0,s.Fl)((()=>e.getters.inDemoMode))}(e),setPlanData:t=>function(e,t){e.dispatch("setPlanData",t)}(e,t),hasPaidPlan:()=>function(e){return(0,s.Fl)((()=>e.state.generalData.planData.hasPaidPlan))}(e),setProjectData:t=>function(e,t){e.dispatch("setProjectData",t)}(e,t),addProject:t=>function(e,t){e.dispatch("addProject",t)}(e,t),addBoardToProject:(t,i)=>function(e,t,i){e.dispatch("addBoardToProject",{projectId:t,boardData:i})}(e,t,i),setDisablePointerEvents:t=>function(e,t){e.dispatch("setDisablePointerEvents",t)}(e,t),pointerEventsDisabled:()=>function(e){return(0,s.Fl)((()=>e.state.generalData.uiFlags.disablePointerEvents))}(e)}}},95610:(e,t,i)=>{i.d(t,{DG:()=>r,JH:()=>l,j$:()=>o,kB:()=>s,mz:()=>n,xZ:()=>a});class s{constructor(e,t,i,s){this.x=e,this.y=t,this.width=i,this.height=s}}const n=200,o=60,a=75,r=50;class l{constructor(e,t,i={type:"text",data:{text:""}},s=[],n={},o=[]){this.id=e,this.location=t,this.content=i,this.fieldIds=s,this.fieldValues=n,this.classificationIds=o,this.isSelected=!1,this.isLockedOpen=!1}}},75930:(e,t,i)=>{var s,n;function o(){return[s.TEXTBOX,s.TEXT_EDITOR,s.DROPDOWN,s.RADIO_BUTTONS,s.CHECKBOXES,s.DATE,s.TIME,s.DATETIME]}function a(e){switch(e){case s.TEXTBOX:case s.TEXT_EDITOR:return[s.TEXTBOX,s.TEXT_EDITOR];case s.DROPDOWN:case s.RADIO_BUTTONS:return[s.DROPDOWN,s.RADIO_BUTTONS];case s.CHECKBOXES:return[s.CHECKBOXES];case s.DATE:case s.TIME:case s.DATETIME:return[s.DATE,s.TIME,s.DATETIME]}}function r(e){switch(e){case s.TEXTBOX:case s.TEXT_EDITOR:return n.TEXT;case s.DROPDOWN:case s.RADIO_BUTTONS:return n.SINGLE_SELECT;case s.CHECKBOXES:return n.MULTI_SELECT;case s.DATE:case s.TIME:case s.DATETIME:return n.TEMPORAL}}function l(e){return[s.DROPDOWN,s.CHECKBOXES,s.RADIO_BUTTONS].includes(e)}function d(e,t){return e===s.CHECKBOXES?null==t?[]:Array.isArray(t)?t:[t]:r(e)===n.TEMPORAL?null==t?{date:"",time:""}:t:null==t?null:Array.isArray(t)?JSON.stringify(t):t}i.d(t,{D2:()=>u,Ep:()=>o,NY:()=>a,fS:()=>s,g:()=>n,lc:()=>r,oe:()=>d,u3:()=>l}),function(e){e.TEXTBOX="Textbox",e.TEXT_EDITOR="Text Editor",e.DROPDOWN="Dropdown",e.RADIO_BUTTONS="Radio Buttons",e.CHECKBOXES="Checkboxes",e.DATE="Date",e.TIME="Time",e.DATETIME="Date and Time"}(s||(s={})),function(e){e.TEXT="Text",e.SINGLE_SELECT="Single-Select",e.MULTI_SELECT="Multi-Select",e.TEMPORAL="Temporal"}(n||(n={}));const c="Built-In",u=[{projectId:c,boardId:"Project Management",projectName:c,boardName:"Project Management",classifications:[{name:"Task",fields:[{name:"Status",type:s.DROPDOWN,possibleValues:[{name:"Needs Planned",style:{border:"#FF5855"}},{name:"Ready for Work",style:{border:"#FF9D54"}},{name:"In Progress",style:{border:"#FFF153"}},{name:"Under Review",style:{border:"#52BEFF"}},{name:"Done",style:{border:"#51FF64"}}],sourceType:"classification"},{name:"Assignee",type:s.DROPDOWN,possibleValues:[{name:"Jim"},{name:"Kate"},{name:"Dave"}],sourceType:"classification"},{name:"Due Date",type:s.DATE,possibleValues:[],sourceType:"classification"},{name:"Description",type:s.TEXT_EDITOR,possibleValues:[],sourceType:"classification"},{name:"Flags",type:s.CHECKBOXES,possibleValues:[{name:"Quick Fix",style:{text:"#51FF64"}},{name:"High Priority",style:{text:"#FF5855"}}],sourceType:"classification"}]},{name:"Person",fields:[{name:"Email",type:s.TEXTBOX,possibleValues:[],sourceType:"classification"},{name:"Phone",type:s.TEXTBOX,possibleValues:[],sourceType:"classification"},{name:"Type",type:s.DROPDOWN,possibleValues:[{name:"Internal",style:{background:"#1C1339"}},{name:"External",style:{background:"#391313"}}],sourceType:"classification"}]}]},{projectId:c,boardId:"Course Organization",projectName:c,boardName:"Course Organization",classifications:[{name:"Assignment",fields:[{name:"Status",type:s.DROPDOWN,possibleValues:[{name:"Needs Planned",style:{border:"#FF5855"}},{name:"Ready for Work",style:{border:"#FF9D54"}},{name:"In Progress",style:{border:"#FFF153"}},{name:"Under Review",style:{border:"#52BEFF"}},{name:"Done",style:{border:"#51FF64"}}],sourceType:"classification"},{name:"Due Date",type:s.DATE,possibleValues:[],sourceType:"classification"},{name:"Description",type:s.TEXT_EDITOR,possibleValues:[],sourceType:"classification"}]},{name:"Course",fields:[{name:"Room",type:s.TEXTBOX,possibleValues:[],sourceType:"classification"},{name:"Schedule",type:s.TEXT_EDITOR,possibleValues:[],sourceType:"classification"}]},{name:"Meeting",fields:[{name:"Location",type:s.TEXTBOX,possibleValues:[],sourceType:"classification"},{name:"Time",type:s.DATETIME,possibleValues:[],sourceType:"classification"},{name:"Notes",type:s.TEXT_EDITOR,possibleValues:[],sourceType:"classification"},{name:"Type",type:s.DROPDOWN,possibleValues:[{name:"General",style:{background:"#131439"}},{name:"Test / Quiz",style:{background:"#391313"}}],sourceType:"classification"}]},{name:"For the Class...",fields:[{name:"Class",type:s.DROPDOWN,possibleValues:[{name:"MATH 101"},{name:"CMPSC 101"},{name:"PSYCH 101"},{name:"HIST 101"}],sourceType:"classification"}]},{name:"Bookmarks",fields:[{name:"Bookmarks",type:s.TEXT_EDITOR,possibleValues:[],sourceType:"classification"}]},{name:"Person",fields:[{name:"Email",type:s.TEXTBOX,possibleValues:[],sourceType:"classification"},{name:"Phone",type:s.TEXTBOX,possibleValues:[],sourceType:"classification"},{name:"Type",type:s.DROPDOWN,possibleValues:[{name:"Teacher",style:{text:"#C962FF"}},{name:"TA",style:{text:"#5CCD56"}},{name:"Student",style:{text:"#6891FF"}}],sourceType:"classification"}]}]}]},37387:(e,t,i)=>{i.d(t,{CR:()=>o,DN:()=>n,IY:()=>s,QW:()=>r,hM:()=>a});const s=[{key:"PROJECT_VIEW",default:!0,display:"View Project",tooltip:"The ability to view this project and its permissions list, but not necessarily the boards."},{key:"PROJECT_ADD_BOARD",default:!0,display:"Create Boards",tooltip:"The ability to create new boards within this project."},{key:"PROJECT_RENAME",default:!1,display:"Rename Project",tooltip:"The ability to rename this project."},{key:"PROJECT_DELETE",default:!1,display:"Delete Project",tooltip:"The ability to delete this project."},{key:"PROJECT_CHANGE_PERMISSIONS",default:!1,display:"Manage Permissions",tooltip:"The ability to modify this permissions table."},{key:"PROJECT_OWNER",default:!1,display:"Owner",tooltip:"Owner of the project. Has all permissions."}],n=[{key:"BOARD_VIEW_EXISTENCE",default:!0,display:"View Existence",tooltip:"The ability to see this board on this 'projects' page, as well as its permissions list."},{key:"BOARD_VIEW_CONTENTS",default:!0,display:"View Contents",tooltip:"The ability to open up this board and view its contents."},{key:"BOARD_EDIT_CONTENTS",default:!0,display:"Edit Contents",tooltip:"The ability to create/modify blocks on the board."},{key:"BOARD_EDIT_CLASSIFICATIONS",default:!1,display:"Edit Classifications",tooltip:"The ability to modify the classifications and fields defined within this board."},{key:"BOARD_RENAME",default:!1,display:"Rename",tooltip:"The ability to rename this board."},{key:"BOARD_DELETE",default:!1,display:"Delete",tooltip:"The ability to delete this board"},{key:"BOARD_CHANGE_PERMISSIONS",default:!1,display:"Manage Permissions",tooltip:"The ability to modify this permissions table."},{key:"BOARD_OWNER",default:!1,display:"Owner",tooltip:"Owner of the board. Has all permissions."}],o={id:"demo",name:"Demo"},a=["demo-courseorg","demo-marscolonization","demo-sandbox"],r={"demo-courseorg":{id:"demo-courseorg",name:"Course Organization",image:"/graphics/demo-courseorg.png",desc:"If you're taking coursework, Spacia can help you track dates for tests, assignments, the relevant people, and tame the hundreds of website bookmarks you've likely been given."},"demo-marscolonization":{id:"demo-marscolonization",name:"Mars Colonization",image:"/graphics/demo-marscolonization.png",desc:"Let's go to Mars! We're absolutely definitely not planning to make a Mars colony (probably), but if we were ... it might look suspiciously similar to this."},"demo-sandbox":{id:"demo-sandbox",name:"Sandbox",image:"/graphics/demo-sandbox.png",desc:"An empty board for you to experiment on. For science, of course!"}}},41367:(e,t,i)=>{i.d(t,{EZ:()=>c,KL:()=>r,KY:()=>E,Me:()=>I,P$:()=>v,Vg:()=>l,WP:()=>w,Wl:()=>y,Xn:()=>u,Xs:()=>n,YP:()=>o,_T:()=>A,aw:()=>T,bW:()=>s,bv:()=>P,ei:()=>d,h$:()=>g,k$:()=>h,vA:()=>a});var s,n,o,a,r,l,d,c,u,p=i(29492),f=i(85212),m=i(2465);function h(e){return 0===e.name.trim().length?(m.x("3.3.1"),!1):e.type!==s.KANBAN||"groupingFieldId"in e||(m.x("3.3.2"),!1)}!function(e){e.FILTER="FILTER",e.KANBAN="KANBAN",e.CALENDAR="CALENDAR"}(s||(s={})),function(e){e.AND="AND",e.OR="OR"}(n||(n={})),function(e){e.INCLUDE="INCLUDE",e.EXCLUDE="EXCLUDE"}(o||(o={})),function(e){e.CLASSIFICATION_EXISTENCE="CLASSIFICATION_EXISTENCE",e.FIELD_VALUE="FIELD_VALUE",e.SUMMARY_TEXT="SUMMARY_TEXT"}(a||(a={})),function(e){e.CONTAINS="STRING_CONTAINS",e.EQUALS="STRING_EQUALS",e.STARTS_WITH="STRING_STARTS_WITH",e.ENDS_WITH="STRING_ENDS_WITH"}(r||(r={})),function(e){e.EQUALS="SS_EQUALS",e.DOESNT_EQUAL="SS_DOESNT_EQUAL"}(l||(l={})),function(e){e.ANY_ONE_OF="MS_ANY_ONE_OF",e.ALL_OF="MS_ALL_OF",e.NONE_OF="MS_NONE_OF"}(d||(d={})),function(e){e.BEFORE="TEMPORAL_BEFORE",e.AFTER="TEMPORAL_AFTER",e.WITHIN_NEXT_X="TEMPORAL_WITHIN_NEXT_X"}(c||(c={})),function(e){e.MINUTE="MINUTE",e.HOUR="HOUR",e.DAY="DAY",e.MONTH="MONTH",e.YEAR="YEAR"}(u||(u={}));const b=[d.NONE_OF],y=[{value:n.AND,display:"And"},{value:n.OR,display:"Or"}],g=[{value:o.INCLUDE,display:"Include"},{value:o.EXCLUDE,display:"Exclude"}],v=[{value:a.CLASSIFICATION_EXISTENCE,display:"Check for Classification"},{value:a.FIELD_VALUE,display:"Check for Field Value"},{value:a.SUMMARY_TEXT,display:"Check for Summary Text"}],I=[{value:r.CONTAINS,display:"contains"},{value:r.EQUALS,display:"equals"},{value:r.STARTS_WITH,display:"starts with"},{value:r.ENDS_WITH,display:"ends with"}],E=[{value:l.EQUALS,display:"equals"},{value:l.DOESNT_EQUAL,display:"does not equal"}],w=[{value:d.ANY_ONE_OF,display:"has any one of"},{value:d.ALL_OF,display:"has all of"},{value:d.NONE_OF,display:"has none of"}],T=[{value:c.BEFORE,display:"before"},{value:c.AFTER,display:"after"},{value:c.WITHIN_NEXT_X,display:"within the next"}],A=[{value:u.MINUTE,display:"minutes"},{value:u.HOUR,display:"hours"},{value:u.DAY,display:"days"},{value:u.MONTH,display:"months"},{value:u.YEAR,display:"years"}];function D(e,t,i){switch(i){case r.CONTAINS:return e.toUpperCase().includes(t.toUpperCase());case r.EQUALS:return e===t;case r.STARTS_WITH:return e.toUpperCase().startsWith(t.toUpperCase());case r.ENDS_WITH:return e.toUpperCase().endsWith(t.toUpperCase());case l.EQUALS:return e===t;case l.DOESNT_EQUAL:return e!==t;case d.ALL_OF:return t.every((t=>null==e?void 0:e.includes(t)));case d.ANY_ONE_OF:return t.some((t=>null==e?void 0:e.includes(t)));case d.NONE_OF:return!t.some((t=>null==e?void 0:e.includes(t)));case c.BEFORE:return f.es(e)<f.es(t.datetime);case c.AFTER:return f.es(e)>f.es(t.datetime);case c.WITHIN_NEXT_X:let{quantity:i,unit:s}=t,n=function(e){switch(e){case u.MINUTE:return 6e4;case u.HOUR:return 36e5;case u.DAY:return 864e5;case u.MONTH:return 2592e6;case u.YEAR:return 31104e6}}(s)*i+Date.now(),o=e;return!(!o.date&&!o.time)&&f.es(o)<n}return!1}function x(e,t,i,s){var n;switch(t.type){case a.CLASSIFICATION_EXISTENCE:let r=e.classificationIds.includes(t.classificationId);return t.includeExclude===o.INCLUDE?r:!r;case a.FIELD_VALUE:if(!t.comparator||!t.value)return!1;if(!b.includes(t.comparator)){let i=s[t.fieldId];if(i&&!e.classificationIds.includes(i))return!1}let l;return l=Array.isArray(t.value)?t.value.map((e=>i[e].name)):p.HD(t.value)&&(null===(n=i[t.value])||void 0===n?void 0:n.name)||t.value,D(e.fieldValues[t.fieldId]||"",l,t.comparator);case a.SUMMARY_TEXT:return D(e.content.data.text,t.value,t.comparator)}}function P(e,t,i,s){return e.filter((e=>t.conjunction===n.AND?t.filters.every((t=>x(e,t,i,s))):t.conjunction===n.OR&&t.filters.some((t=>x(e,t,i,s)))))}},17943:(e,t,i)=>{i.d(t,{h:()=>y,o:()=>g});var s=i(80894),n=i(37387);const o={state:{userData:{username:void 0,userId:void 0,email:void 0},adminData:{isAdmin:!1,jwt:void 0},planData:{hasPaidPlan:!1},projectData:[],currentViewData:void 0,authToken:void 0,permissions:{},uiFlags:{disablePointerEvents:!1}},getters:{currentPermissions:e=>{var t,i,s,n;let o=null===(t=e.currentViewData)||void 0===t?void 0:t.projectId,a=null===(i=e.currentViewData)||void 0===i?void 0:i.boardId;return o&&a?[...null!==(s=e.permissions[o])&&void 0!==s?s:[],...null!==(n=e.permissions[a])&&void 0!==n?n:[]]:[]},inDemoMode:e=>{var t;return(null===(t=e.currentViewData)||void 0===t?void 0:t.projectId)===n.CR.id}},mutations:{resetStore(e){e.userData={username:void 0,userId:void 0,email:void 0},e.adminData={isAdmin:!1,jwt:void 0},e.planData={hasPaidPlan:!1},e.projectData=[],e.currentViewData=void 0,e.authToken=void 0,e.permissions={},e.uiFlags={disablePointerEvents:!1}},clearBoardState(e){e.projectData=[],e.currentViewData=void 0,e.uiFlags={disablePointerEvents:!1}},setUsername(e,t){e.userData.username=t},setUserId(e,t){e.userData.userId=t},setEmail(e,t){e.userData.email=t},setIsAdmin(e,t){e.adminData.isAdmin=t},setAdminJwt(e,t){e.adminData.jwt=t},setPlanData(e,t){e.planData.hasPaidPlan=t.hasPaidPlan},setProjectData(e,t){e.projectData=t},setCurrentView(e,t){e.currentViewData=t},setAuthToken(e,t){e.authToken=t},setPermissions(e,t){e.permissions=t},addProject(e,t){e.projectData.push(t)},addBoardToProject(e,{projectId:t,boardData:i}){let s=e.projectData.find((e=>e.projectId===t));s&&(s.boards[i.boardId]=i)},disablePointerEvents(e){e.uiFlags.disablePointerEvents=!0},enablePointerEvents(e){e.uiFlags.disablePointerEvents=!1}},actions:{resetStore({commit:e}){e("resetStore")},logOut({commit:e}){e("resetStore")},clearBoardState({commit:e}){e("clearBoardState")},setUsername({commit:e},t){e("setUsername",t)},setUserId({commit:e},t){e("setUserId",t)},setEmail({commit:e},t){e("setEmail",t)},setIsAdmin({commit:e},t){e("setIsAdmin",t)},setAdminJwt({commit:e},t){e("setAdminJwt",t)},setPlanData({commit:e},t){e("setPlanData",t)},setProjectData({commit:e},t){e("setProjectData",t)},setCurrentView({commit:e},t){e("setCurrentView",t)},setCurrentAppPermissions({commit:e},{authToken:t,permissions:i}){e("setAuthToken",t),e("setPermissions",i)},addProject({commit:e},t){e("addProject",t)},addBoardToProject({commit:e},{projectId:t,boardData:i}){e("addBoardToProject",{projectId:t,boardData:i})},setDisablePointerEvents({commit:e},t){e(t?"disablePointerEvents":"enablePointerEvents")}}};var a=i(95610),r=i(2465),l=i(61746),d=i(52433),c=i(75930);const u={state:{entities:{},blockPriorities:[],expandedEntityIds:[],entityIdBeingEdited:void 0},getters:{visibleEntities:e=>e.entities,selectedEntities:e=>Object.values(e.entities).filter((e=>e.isSelected)),selectedEntityIds:e=>Object.values(e.entities).filter((e=>e.isSelected)).map((e=>e.id)),expandedEntityIds:e=>e.expandedEntityIds,blockPriorities:e=>e.blockPriorities,entitySearch:(e,t)=>i=>"searchTerm"in i?Object.values(e.entities).filter((e=>{let s=[];for(let i in e.fieldValues){let n=t.fieldIdToClassificationId[i];n&&!e.classificationIds.includes(n)||s.push(e.fieldValues[i])}return e.content.data.text.toLowerCase().includes(i.searchTerm.toLowerCase())||JSON.stringify(s).toLowerCase().includes(i.searchTerm.toLowerCase())})).reduce(((i,s,n)=>(i.unshift({breadcrumbs:t.getParentChain(s.id).map((t=>e.entities[t].content.data.text)),summaryText:s.content.data.text,entityId:s.id,block:s}),i)),[]):[],activeClassificationFieldIds:(e,t)=>i=>{if(0==i.length)return{};let s=Object.values(e.entities).filter((e=>i.includes(e.id))).map((e=>e.classificationIds)).reduce(((e,t)=>e.filter((e=>t.includes(e))))).filter((e=>t.classificationIds.includes(e))),n={};for(let e of s)n[e]=t.classifications[e].fieldIds||[];return n},activeEntityFieldIds:(e,t)=>t=>0==t.length?[]:Object.values(e.entities).filter((e=>t.includes(e.id))).map((e=>e.fieldIds)).reduce(((e,t)=>e.filter((e=>t.includes(e))))),activeFieldValueCounts:(e,t)=>i=>{let s={},n=Object.values(e.entities).filter((e=>i.includes(e.id))),o=n.map((e=>e.classificationIds)).reduce(((e,t)=>e.filter((e=>t.includes(e))))).filter((e=>t.classificationIds.includes(e))).map((e=>t.classifications[e].fieldIds)).reduce(((e,t)=>[...e,...t]),[]);for(let e of n)for(let n of[...o,...e.fieldIds]){let o=(0,c.oe)(t.fields[n].type,e.fieldValues[n]);if(void 0===s[n]&&(s[n]={pvCounts:{},outOf:i.length}),Array.isArray(o))for(let e of o)s[n].pvCounts[e]=(s[n].pvCounts[e]||0)+1;else if(d.L5(o,["date","time"])){let e=`${o.date} ${o.time}`;s[n].pvCounts[e]=(s[n].pvCounts[e]||0)+1}else s[n].pvCounts[o]=(s[n].pvCounts[o]||0)+1}return s}},mutations:{resetStore(e){e.entities={},e.blockPriorities=[],e.expandedEntityIds=[],e.entityIdBeingEdited=void 0},clearBoardState(e){e.entities={},e.blockPriorities=[],e.expandedEntityIds=[],e.entityIdBeingEdited=void 0},addEntities(e,t){for(let i of t)e.entities[i.id]=i},setEntities(e,t){e.entities={};for(let i of t)e.entities[i.id]=i},selectEntities(e,t){for(let i of t)e.entities[i]&&(e.entities[i].isSelected=!0)},deselectAllEntities(e){Object.keys(e.entities).forEach((t=>e.entities[t].isSelected=!1))},changeEditedEntity(e,t){e.entityIdBeingEdited=t},expandEntity(e,t){-1===e.expandedEntityIds.indexOf(t)&&e.expandedEntityIds.push(t)},contractEntity(e,t){let i=e.expandedEntityIds.indexOf(t);-1!==i&&e.expandedEntityIds.splice(i,1)},lockOpenClosed(e,{entityIds:t,isLockedOpen:i}){for(let s of t)e.entities[s].isLockedOpen=i},moveEntitiesByDelta(e,{entityIds:t,deltaX:i,deltaY:s}){for(let n of t)e.entities[n].location.x+=i,e.entities[n].location.y+=s},resizeEntitiesByDelta(e,{entityIds:t,entityScales:i,deltaX:s,deltaY:n}){for(let o of t){let t=l.F(e.entities[o].location.x,e.entities[o].location.y,e.entities[o].location.width+s,e.entities[o].location.height+n);t.width=Math.max(t.width,a.xZ/i[o]),t.height=Math.max(t.height,a.DG/i[o]),e.entities[o].location.x=t.x,e.entities[o].location.y=t.y,e.entities[o].location.width=t.width,e.entities[o].location.height=t.height}},setEntityPosition(e,{entityId:t,x:i,y:s,width:n,height:o}){e.entities[t].location.x=i,e.entities[t].location.y=s,e.entities[t].location.width=n,e.entities[t].location.height=o},deleteEntities(e,{entityIds:t}){for(let i of t)delete e.entities[i]},setEntityContent(e,{entityId:t,newContent:i}){e.entities[t].content=i},setEntityClassificationId(e,{entityId:t,classificationId:i,isActive:s}){let n=e.entities[t].classificationIds.indexOf(i);s&&-1===n?e.entities[t].classificationIds.push(i):s||-1===n||e.entities[t].classificationIds.splice(n,1)},setEntityFieldIds(e,{entityId:t,fieldIds:i}){e.entities[t].fieldIds=i},setEntityFieldValue(e,{entityId:t,fieldId:i,value:s}){e.entities[t].fieldValues[i]=s},setBlockPriorities(e,t){e.blockPriorities=t},insertBefore(e,{blockId:t,before:i}){if(void 0!==i){let s=e.blockPriorities.indexOf(i);-1!==s?e.blockPriorities.splice(s,0,...t):r.x("3.2.1")}else e.blockPriorities.push(...t)},deleteEntry(e,t){let i=e.blockPriorities.indexOf(t);-1!==i&&e.blockPriorities.splice(i,1)}},actions:{resetStore({commit:e}){e("resetStore")},clearBoardState({commit:e}){e("clearBoardState")},addEntities({commit:e},t){e("addEntities",t),e("insertBefore",{blockId:t.map((e=>e.id)),before:void 0})},setEntities({commit:e},t){e("setEntities",t)},selectEntity({commit:e},{entityId:t,clearCurrentSelection:i=!0}){i&&e("deselectAllEntities"),e("selectEntities",[t])},selectEntities({commit:e},{entityIds:t,clearCurrentSelection:i=!0}){i&&e("deselectAllEntities"),e("selectEntities",t)},clearEntitySelection({commit:e}){e("deselectAllEntities")},startEditingEntity({commit:e},t){e("changeEditedEntity",t)},stopEditingEntity({commit:e}){e("changeEditedEntity",void 0)},lockOpenClosed({commit:e,state:t},{entityIds:i}){let s=!i.every((e=>t.entities[e].isLockedOpen));e("lockOpenClosed",{entityIds:i,isLockedOpen:s})},expandEntity({commit:e},t){e("expandEntity",t)},contractEntity({commit:e},t){e("contractEntity",t)},dragSelectedEntities({commit:e,getters:t},{deltaX:i,deltaY:s}){e("moveEntitiesByDelta",{entityIds:t.selectedEntityIds,deltaX:i,deltaY:s})},resizeSelectedEntities({commit:e,getters:t},{deltaX:i,deltaY:s}){e("resizeEntitiesByDelta",{entityIds:t.selectedEntityIds,entityScales:t.entityScales,deltaX:i,deltaY:s})},setEntityPositions({commit:e},t){for(let i of t)e("setEntityPosition",{entityId:i.entityId,x:i.location.x,y:i.location.y,width:i.location.width,height:i.location.height})},deleteEntities({commit:e,dispatch:t},i){for(let e of i)t("deleteNode",e);e("deleteEntities",{entityIds:i});for(let t of i)e("deleteEntry",t)},deleteSelectedEntities({commit:e,dispatch:t,getters:i}){t("deleteEntities",i.selectedEntityIds)},setEntityContent({commit:e},{entityId:t,newContent:i}){e("setEntityContent",{entityId:t,newContent:i})},setEntityClassificationId({commit:e,state:t},{entityId:i,classificationId:s,isActive:n}){e("setEntityClassificationId",{entityId:i,classificationId:s,isActive:n})},setEntityFieldIds({commit:e,state:t,rootState:i},{entityId:s,fieldIds:n}){e("setEntityFieldIds",{entityId:s,fieldIds:n})},setEntityFieldValue({commit:e,state:t,rootState:i},{entityId:s,fieldId:n,value:o}){e("setEntityFieldValue",{entityId:s,fieldId:n,value:o})},setBlockPriorities({commit:e,state:t},i){e("setBlockPriorities",i)},setBlockPriority({commit:e,state:t,getters:i},{blockId:s,higherThan:n}){for(let t of s)e("deleteEntry",t);e("insertBefore",{blockId:s,before:n})},removeBlockPriority({commit:e,state:t},i){e("deleteEntry",i)}}};var p=i(70082);const f={state:{hierarchy:{}},getters:{visibleHierarchyLinkPairs:(e,t)=>{let i=[],s=t.visibleEntities;for(let t in s){let n=e.hierarchy[t].parentEntityId;if(n&&s[n]){let e=s[n].location,o=s[t].location;i.push({id:`${n}_${t}`,source:{entityId:n,isSelected:s[n].isSelected,x:e.x+e.width/2,y:e.y+e.height/2,entityWidth:e.width,entityHeight:e.height},destination:{entityId:t,isSelected:s[t].isSelected,x:o.x+o.width/2,y:o.y+o.height/2,entityWidth:o.width,entityHeight:o.height}})}}return i},entityScales:e=>{let t={};for(let i in e.hierarchy){let s=1,n=i;for(;void 0!==e.hierarchy[n].parentEntityId;)s+=.5*s,n=e.hierarchy[n].parentEntityId;t[i]=s}return t},getTopLevelBlocks:e=>{let t=[];for(let i in e.hierarchy)void 0===e.hierarchy[i].parentEntityId&&t.unshift(i);return t},getTransitiveDescendants:e=>t=>{let i=[t];for(let t of i)e.hierarchy[t].childrenEntityIds.forEach((e=>{i.push(e)}));return i},getParentChain:e=>t=>{var i;let s=[],n=null===(i=e.hierarchy[t])||void 0===i?void 0:i.parentEntityId;for(;void 0!==n;)s.unshift(n),n=e.hierarchy[n].parentEntityId;return s}},mutations:{resetStore(e){e.hierarchy={}},clearBoardState(e){e.hierarchy={}},clearHierarchy(e){e.hierarchy={}},createNewNode(e,t){e.hierarchy[t]||(e.hierarchy[t]={parentEntityId:void 0,childrenEntityIds:[]})},deleteNode(e,t){delete e.hierarchy[t]},assignParent(e,{parentId:t,childId:i}){e.hierarchy[i].parentEntityId=t},clearParent(e,t){e.hierarchy[t].parentEntityId=void 0},addChild(e,{parentId:t,childId:i}){e.hierarchy[t].childrenEntityIds.push(i)},removeChild(e,{parentId:t,childId:i}){let s=e.hierarchy[t].childrenEntityIds.indexOf(i);-1!==s&&e.hierarchy[t].childrenEntityIds.splice(s,1)}},actions:{resetStore({commit:e}){e("resetStore")},clearBoardState({commit:e}){e("clearBoardState")},clearHierarchy({commit:e}){e("clearHierarchy")},createNode({commit:e,state:t},{entityId:i,parentId:s}){e("createNewNode",i),s&&(e("createNewNode",s),e("addChild",{parentId:s,childId:i}),e("assignParent",{parentId:s,childId:i}))},deleteNode({commit:e,state:t,dispatch:i},s){let n=t.hierarchy[s],o=JSON.parse(JSON.stringify(n.childrenEntityIds)),a=n.parentEntityId;for(let e of o)i("setParent",{entityId:e,newParent:a});a&&e("removeChild",{parentId:a,childId:s}),e("deleteNode",s)},setParent({commit:e,state:t,getters:i,rootState:s},{entityId:n,newParent:o}){let a=!1,r=o;for(;void 0!==r;)r=t.hierarchy[r].parentEntityId,r===n&&(a=!0,i.inDemoMode&&(0,p.useVueNotify)().showNotification({cssClasses:["mw-notification-warning"],dismissAfterMillis:4e3,data:{message:"Circular hierarchies are not allowed."}}));if(!a){let a=i.getTransitiveDescendants(n),r={};for(let e of a)r[e]=i.entityScales[e];let l=t.hierarchy[n].parentEntityId;l&&e("removeChild",{parentId:l,childId:n}),o?(e("addChild",{parentId:o,childId:n}),e("assignParent",{parentId:o,childId:n})):e("clearParent",n);for(let l of a){let a=l!==n?t.hierarchy[l].parentEntityId:o,d=s.entityData.entities[l],c=a?1.5*i.entityScales[a]:1,u=d.location.width*r[l]/c,p=d.location.height*r[l]/c;e("setEntityPosition",{entityId:l,x:d.location.x,y:d.location.y,width:u,height:p})}}}}},m={state:{classificationIds:[],classificationDefinitions:{},fieldDefinitions:{},possibleValueDefinitions:{}},getters:{classificationIds:e=>e.classificationIds,classifications:e=>e.classificationDefinitions,fields:e=>e.fieldDefinitions,possibleValues:e=>e.possibleValueDefinitions,boardColors:e=>{let t=new Set;return Object.values(e.possibleValueDefinitions).forEach((e=>{e.style&&Object.values(e.style).forEach((e=>{"string"==typeof e&&t.add(e)}))})),[...t]},getChangedFieldValues:(e,t,i)=>e=>{var s,n;let o=t.possibleValues,a=[];for(let t of Object.keys(e))(null===(s=o[t])||void 0===s?void 0:s.name)&&o[t].name!==e[t].name&&a.push({pvId:t,oldName:o[t].name,newName:e[t].name});let l=[];for(let e of a){let s=null===(n=Object.values(t.fields).find((t=>t.possibleValueIds.includes(e.pvId))))||void 0===n?void 0:n.id;if(s)for(let t of Object.values(i.entityData.entities))Array.isArray(t.fieldValues[s])?-1!==t.fieldValues[s].indexOf(e.oldName)&&l.push({entityId:t.id,fieldId:s,newValue:t.fieldValues[s]}):t.fieldValues[s]===e.oldName&&(t.fieldValues[s]=e.newName,l.push({entityId:t.id,fieldId:s,newValue:t.fieldValues[s]}));else r.x("3.1.1")}return l},fieldIdToClassificationId:e=>Object.values(e.classificationDefinitions).reduce(((e,t)=>(t.fieldIds.forEach((i=>e[i]=t.id)),e)),{})},mutations:{resetStore(e){e.classificationIds=[],e.classificationDefinitions={},e.fieldDefinitions={},e.possibleValueDefinitions={}},clearBoardState(e){e.classificationIds=[],e.classificationDefinitions={},e.fieldDefinitions={},e.possibleValueDefinitions={}},setClassifications(e,{classificationDefinitions:t,classificationIds:i}){e.classificationIds=i,e.classificationDefinitions=t},setFields(e,t){e.fieldDefinitions=Object.assign(Object.assign({},e.fieldDefinitions),t)},addField(e,t){e.fieldDefinitions[t.id]=t},removeField(e,t){delete e.fieldDefinitions[t]},setPossibleValues(e,t){e.possibleValueDefinitions=Object.assign(Object.assign({},e.possibleValueDefinitions),t)},addPossibleValue(e,t){e.possibleValueDefinitions[t.id]=t},removePossibleValue(e,t){delete e.possibleValueDefinitions[t]}},actions:{resetStore({commit:e}){e("resetStore")},clearBoardState({commit:e}){e("clearBoardState")},setClassificationDefinitions({commit:e},{classificationDefinitions:t,classificationIds:i}){e("setClassifications",{classificationDefinitions:t,classificationIds:i})},setFieldDefinitions({commit:e},t){e("setFields",t)},setPossibleValueDefinitions({commit:e},t){e("setPossibleValues",t)}}};var h=i(41367);const b={state:{availableViews:{},activeViewConfig:void 0},getters:{displayedBlocks:(e,t,i)=>e.activeViewConfig?(0,h.bv)(Object.values(i.entityData.entities),e.activeViewConfig.filter,t.possibleValues,t.fieldIdToClassificationId):[],relevantPriorities:(e,t,i)=>{if(!e.activeViewConfig)return[];let s=t.displayedBlocks;return t.blockPriorities.filter((e=>s.some((t=>t.id===e))))},prioritizedBlocks:(e,t,i)=>{if(!e.activeViewConfig)return[];let s=t.displayedBlocks,n=t.relevantPriorities;for(let e=n.length-1;e>=0;e--){let t=s.findIndex((t=>t.id===n[e]));if(-1!==t){let e=s.splice(t,1);s.unshift(...e)}}return s}},mutations:{resetStore(e){e.availableViews={},e.activeViewConfig=void 0},clearBoardState(e){e.availableViews={},e.activeViewConfig=void 0},setAvailableViews(e,t){e.availableViews=t},addAvailableView(e,t){e.availableViews[t.id]=t},removeAvailableView(e,t){delete e.availableViews[t]},setActiveView(e,t){e.activeViewConfig=t},clearActiveView(e){e.activeViewConfig=void 0}},actions:{resetStore({commit:e}){e("resetStore")},clearBoardState({commit:e}){e("clearBoardState")},setAvailableViews({commit:e},t){e("setAvailableViews",t)},addView({commit:e},t){e("addAvailableView",t)},deleteView({commit:e,state:t},i){var s;(null===(s=t.activeViewConfig)||void 0===s?void 0:s.id)===i&&e("clearActiveView"),e("removeAvailableView",i)},openView({commit:e},t){e("setActiveView",t)},closeView({commit:e}){e("clearActiveView")}}};let y=(0,s.MT)({modules:{generalData:o,entityData:u,hierarchyData:f,linkData:{state:{},getters:{},mutations:{},actions:{}},fieldData:m,viewData:b}});function g(){return y}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={id:e,exports:{}};return s[e].call(i.exports,i,i.exports,o),i.exports}o.m=s,e=[],o.O=(t,i,s,n)=>{if(!i){var a=1/0;for(c=0;c<e.length;c++){for(var[i,s,n]=e[c],r=!0,l=0;l<i.length;l++)(!1&n||a>=n)&&Object.keys(o.O).every((e=>o.O[e](i[l])))?i.splice(l--,1):(r=!1,n<a&&(a=n));if(r){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,s,n]},o.F={},o.E=e=>{Object.keys(o.F).map((t=>{o.F[t](e)}))},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,i)=>(o.f[i](e,t),t)),[])),o.u=e=>(({10:"app-dialogs",143:"app",149:"slide-open-tray",177:"home",189:"common-components",328:"admin",535:"login",537:"app-views",566:"svg-components",642:"app-ui",660:"subscription-setup",809:"account",979:"legal-docs"}[e]||e)+"."+{4:"e3a763663587c747a1c4",10:"6221a227adec091a89ad",32:"a033596fcd2145be8120",70:"47f703ba26bcc47e00a2",137:"9495f482693be31d2e13",143:"8aba84913f271c6e98b4",149:"5cc5fbbad4a81445eb61",177:"950b02d170d75634de47",189:"20aca58da7b15f4ac313",194:"68ef9362b9aaf77f62b5",208:"f88d7255003ea0cdfc33",246:"ef3ba3dc0fde446464a9",260:"58aa4525ed774c2b7c91",328:"5804d320ad66e1ee5fb9",426:"8fdd52ee4c5f87cb3ae4",473:"4c61fcb1f58c3fd450d5",492:"52b5dbeb70e27841ae4d",535:"5d33edca9facb61976a3",537:"915670f57cc1530f3b93",566:"f48852e57561fa165bf6",642:"44fc4c3dd0fa09c608b3",660:"f1e898c746f4dbad86bd",809:"ddfbbe0b6d79dc48bce2",865:"dfa0f7173d6cd1f8089e",876:"036b8996b49e6ec9da13",979:"95d85ee3dc1545ae3f5a",995:"1523c2c6de2d7c019e35"}[e]+".js"),o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},i="client:",o.l=(e,s,n,a)=>{if(t[e])t[e].push(s);else{var r,l;if(void 0!==n)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==i+n){r=u;break}}r||(l=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,o.nc&&r.setAttribute("nonce",o.nc),r.setAttribute("data-webpack",i+n),r.src=e),t[e]=[s];var p=(i,s)=>{r.onerror=r.onload=null,clearTimeout(f);var n=t[e];if(delete t[e],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((e=>e(s))),i)return i(s)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),l&&document.head.appendChild(r)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{o.b=document.baseURI||self.location.href;var e={826:0};o.f.j=(t,i)=>{var s=o.o(e,t)?e[t]:void 0;if(0!==s)if(s)i.push(s[2]);else{var n=new Promise(((i,n)=>s=e[t]=[i,n]));i.push(s[2]=n);var a=o.p+o.u(t),r=new Error;o.l(a,(i=>{if(o.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var n=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;r.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",r.name="ChunkLoadError",r.type=n,r.request=a,s[1](r)}}),"chunk-"+t,t)}},o.F.j=t=>{if(!o.o(e,t)||void 0===e[t]){e[t]=null;var i=document.createElement("link");o.nc&&i.setAttribute("nonce",o.nc),i.rel="prefetch",i.as="script",i.href=o.p+o.u(t),document.head.appendChild(i)}},o.O.j=t=>0===e[t];var t=(t,i)=>{var s,n,[a,r,l]=i,d=0;if(a.some((t=>0!==e[t]))){for(s in r)o.o(r,s)&&(o.m[s]=r[s]);if(l)var c=l(o)}for(t&&t(i);d<a.length;d++)n=a[d],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(c)},i=self.webpackChunkclient=self.webpackChunkclient||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),o.nc=void 0,o.O(0,[826],(()=>{[137,10,194,143,642,537].map(o.E)}),5);var a=o.O(void 0,[685],(()=>o(84351)));a=o.O(a)})();